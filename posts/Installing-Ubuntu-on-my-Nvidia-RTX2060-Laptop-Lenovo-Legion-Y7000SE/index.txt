2:I[50316,["4263","static/chunks/4263-74c7c712db107d50.js","8278","static/chunks/8278-5466c4320982b472.js","5223","static/chunks/5223-d8d2c9070295f5d4.js","333","static/chunks/app/posts/%5Bslug%5D/page-aa96f01cb74750e8.js"],"WidgetsRoot"]
3:I[231,["4263","static/chunks/4263-74c7c712db107d50.js","8278","static/chunks/8278-5466c4320982b472.js","5223","static/chunks/5223-d8d2c9070295f5d4.js","333","static/chunks/app/posts/%5Bslug%5D/page-aa96f01cb74750e8.js"],""]
4:I[32741,["4263","static/chunks/4263-74c7c712db107d50.js","8278","static/chunks/8278-5466c4320982b472.js","5223","static/chunks/5223-d8d2c9070295f5d4.js","333","static/chunks/app/posts/%5Bslug%5D/page-aa96f01cb74750e8.js"],"Code"]
7:I[39275,[],""]
9:I[61343,[],""]
a:I[64404,["4263","static/chunks/4263-74c7c712db107d50.js","7053","static/chunks/7053-68812d3dd5ada454.js","5223","static/chunks/5223-d8d2c9070295f5d4.js","3185","static/chunks/app/layout-2b6d668e649a83ef.js"],"GoogleAnalytics"]
b:I[82650,["4263","static/chunks/4263-74c7c712db107d50.js","7053","static/chunks/7053-68812d3dd5ada454.js","5223","static/chunks/5223-d8d2c9070295f5d4.js","3185","static/chunks/app/layout-2b6d668e649a83ef.js"],"ThemeProvider"]
c:I[50558,["4263","static/chunks/4263-74c7c712db107d50.js","7053","static/chunks/7053-68812d3dd5ada454.js","5223","static/chunks/5223-d8d2c9070295f5d4.js","3185","static/chunks/app/layout-2b6d668e649a83ef.js"],"default"]
d:I[40289,["4263","static/chunks/4263-74c7c712db107d50.js","7053","static/chunks/7053-68812d3dd5ada454.js","5223","static/chunks/5223-d8d2c9070295f5d4.js","3185","static/chunks/app/layout-2b6d668e649a83ef.js"],"Dipsyland"]
e:I[22810,["3954","static/chunks/d3ac728e-4f9f0688fd11b799.js","3158","static/chunks/3158-60beff0974f44667.js","7053","static/chunks/7053-68812d3dd5ada454.js","3530","static/chunks/3530-0259f1a7e7bea590.js","1931","static/chunks/app/page-a42f5ece5c6a13f9.js"],"SvgLink"]
5:T4b0,+-----------------------------------------------------------------------------+
| NVIDIA-SMI 440.26       Driver Version: 440.26       CUDA Version: 10.2     |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  GeForce RTX 2060    Off  | 00000000:01:00.0  On |                  N/A |
| N/A   50C    P8     7W /  N/A |      0MiB /  5926MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                       GPU Memory |
|  GPU       PID   Type   Process name                             Usage      |
|=============================================================================|
+-----------------------------------------------------------------------------+
6:T763,#> nvidia-smi     
Fri Nov 29 08:20:51 2019       
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 440.26       Driver Version: 440.26       CUDA Version: 10.2     |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  GeForce RTX 2060    Off  | 00000000:01:00.0  On |                  N/A |
| N/A   50C    P8     7W /  N/A |    343MiB /  5926MiB |      3%      Default |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                       GPU Memory |
|  GPU       PID   Type   Process name                             Usage      |
|=============================================================================|
|    0      2483      G   /usr/lib/xorg/Xorg                           129MiB |
|    0      3186      G   kwin_x11                                      65MiB |
|    0      3207      G   /usr/bin/krunner                               3MiB |
|    0      3209      G   /usr/bin/plasmabash                          80MiB |
|    0      3314      G   /usr/bin/systemsettings5                      37MiB |
|    0      3497      G   /usr/bin/akonadi_archivemail_agent            13MiB |
|    0      3548      G   /usr/bin/akonadi_mailfilter_agent              3MiB |
|    0      3574      G   /usr/bin/akonadi_sendlater_agent               3MiB |
+-----------------------------------------------------------------------------+

8:["slug","Installing-Ubuntu-on-my-Nvidia-RTX2060-Laptop-Lenovo-Legion-Y7000SE","d"]
0:["l4FXq5dw8n774Xe3HA5CJ",[[["",{"children":["posts",{"children":[["slug","Installing-Ubuntu-on-my-Nvidia-RTX2060-Laptop-Lenovo-Legion-Y7000SE","d"],{"children":["__PAGE__?{\"slug\":\"Installing-Ubuntu-on-my-Nvidia-RTX2060-Laptop-Lenovo-Legion-Y7000SE\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["posts",{"children":[["slug","Installing-Ubuntu-on-my-Nvidia-RTX2060-Laptop-Lenovo-Legion-Y7000SE","d"],{"children":["__PAGE__",{},[["$L1",["$","div",null,{"className":"card text-left relative p-20 max-w-4xl min-h-[calc(var(--section-height) - 10rem * 2)] mx-auto my-40 overflow-hidden shadow-xl","children":[["$","h1",null,{"children":"Installing Ubuntu on my Nvidia RTX2060 Laptop (Lenovo Legion Y7000SE)"}],["$","time",null,{"className":"my-4 block text-sm text-zinc-400","dateTime":"2019-10-03T00:00:00.000Z","children":"October 3, 2019"}],["$","article",null,{"className":"prose dark:prose-invert max-w-[90ch]","children":["$","$L2",null,{"children":[["$","h1",null,{"id":"installing-ubuntu-on-my-nvidia-rtx2060-laptop-lenovo-legion-y7000se","children":[["$","$L3",null,{"href":"#installing-ubuntu-on-my-nvidia-rtx2060-laptop-lenovo-legion-y7000se","children":["$","span",null,{"className":"icon icon-link"}]}],""]}],"\n",["$","p",null,{"children":["Procrastinated for three years, I finally decided to buy my very first \"first-hand\" computer. ",["$","del",null,{"children":"Now I am bankrupted."}]," I got it from the school's notebook ownership program which is rather worth it given the OP spec. With just 12000 HKD, I got 1TB SSD, Gen 9 i7 intel CPU core, Nvidia RTX 2060, 32GB RAM, HD screen, as well as a gigantic power supply yay~. As a ",["$","del",null,{"children":"professional"}]," IT dog, the very first thing I need to do is to install linux dual boot on it, but it has been cries and tears doing so. Took me several days TAT."]}],"\n",["$","h2",null,{"id":"1-install-nvidia-driver","children":[["$","$L3",null,{"href":"#1-install-nvidia-driver","children":["$","span",null,{"className":"icon icon-link"}]}],"1. Install Nvidia Driver"]}],"\n",["$","p",null,{"children":"I cant directly install from desktop images as it will enter a broken screen as the computer don't have Nvidia driver at fresh install."}],"\n",["$","p",null,{"children":"Therefore I install ubuntu by first installing a ubuntu server, install the Nvidia driver manually, finally install the desktop."}],"\n",["$","p",null,{"children":"During the installation wifi seems not working so I connect the computer with LAN."}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":"0","data-language":"bash","data-theme":"one-dark-pro","children":["$","$L4",null,{"data-line-numbers":"","data-language":"bash","data-theme":"one-dark-pro","style":{"display":"grid"},"data-line-numbers-max-digits":"2","children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"# the repository that nvidia is"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" add-apt-repository"}],["$","span",null,{"style":{"color":"#98C379"},"children":" ppa:graphics-drivers/ppa"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"# dynamic kernel module support"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" apt-get"}],["$","span",null,{"style":{"color":"#98C379"},"children":" install"}],["$","span",null,{"style":{"color":"#98C379"},"children":" dkms"}],["$","span",null,{"style":{"color":"#98C379"},"children":" build-essential"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" apt-get"}],["$","span",null,{"style":{"color":"#98C379"},"children":" update"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"# know what is the newest version of nvidia driver"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" apt-get"}],["$","span",null,{"style":{"color":"#98C379"},"children":" install"}],["$","span",null,{"style":{"color":"#98C379"},"children":" ubuntu-drivers"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"ubuntu-drivers"}],["$","span",null,{"style":{"color":"#98C379"},"children":" list"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"# install the driver"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" apt-get"}],["$","span",null,{"style":{"color":"#98C379"},"children":" install"}],["$","span",null,{"style":{"color":"#98C379"},"children":" nvidia-driver-440"}]]}]]}]}]}],"\n",["$","p",null,{"children":["Then install a desktop distro. ",["$","del",null,{"children":"I chose KDE because the desktop looks like win10, and I just joke with my non linux friends that it is win11 and they really believe in it"}],"."]}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":"0","data-language":"bash","data-theme":"one-dark-pro","children":["$","$L4",null,{"data-line-numbers":"","data-language":"bash","data-theme":"one-dark-pro","style":{"display":"grid"},"data-line-numbers-max-digits":"1","children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" tasksel"}]]}]}]}]}],"\n",["$","p",null,{"children":"This will display a list of available desktops that you can install"}],"\n",["$","p",null,{"children":"After installing, just reboot"}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":"0","data-language":"bash","data-theme":"one-dark-pro","children":["$","$L4",null,{"data-line-numbers":"","data-language":"bash","data-theme":"one-dark-pro","style":{"display":"grid"},"data-line-numbers-max-digits":"1","children":["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#61AFEF"},"children":"reboot"}]}]}]}]}],"\n",["$","h2",null,{"id":"2-brightness-control","children":[["$","$L3",null,{"href":"#2-brightness-control","children":["$","span",null,{"className":"icon icon-link"}]}],"2. Brightness control"]}],"\n",["$","p",null,{"children":"And then brightness setting is not working"}],"\n",["$","p",null,{"children":["First need to enable brightness control of the GPU. Open  ",["$","$L4",null,{"children":"/usr/share/X11/xorg.conf.d/10-nvidia.conf"}]," (or maybe other file like this in the same directory) and add a line of"]}],"\n",["$","pre",null,{"children":["$","$L4",null,{"children":"Option \"RegistryDwords\" \"EnableBrightnessControl=1\"\n"}]}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"Everytime after you update the nvidia driver, you need to manually add back the above line."}]}],"\n",["$","p",null,{"children":["Then ubuntu don't know it can control the lower level setting of computer. So to enable the OS to set the low level stuffs, set the grub by modifying a line in ",["$","$L4",null,{"children":"/etc/default/grub"}]]}],"\n",["$","pre",null,{"children":["$","$L4",null,{"children":"GRUB_CMDLINE_LINUX_DEFAULT=\"quiet acpi_backlight=vendor acpi_osi=linux\"\n"}]}],"\n",["$","p",null,{"children":["Remember to ",["$","$L4",null,{"children":"sudo update-grub"}]," and then restart.\nYou may now test the brightness control with ",["$","$L4",null,{"children":"xbacklight -set 10"}]," or brightness control buttons on your computer if you have."]}],"\n",["$","h2",null,{"id":"3-cannot-connect-to-wifi","children":[["$","$L3",null,{"href":"#3-cannot-connect-to-wifi","children":["$","span",null,{"className":"icon icon-link"}]}],"3. Cannot connect to WIFI"]}],"\n",["$","p",null,{"children":"Do this after you have installed desktop"}],"\n",["$","p",null,{"children":"First switch the netplan to use NetworkManager"}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":"0","data-language":"bash","data-theme":"one-dark-pro","children":["$","$L4",null,{"data-line-numbers":"","data-language":"bash","data-theme":"one-dark-pro","style":{"display":"grid"},"data-line-numbers-max-digits":"1","children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#56B6C2"},"children":"cd"}],["$","span",null,{"style":{"color":"#98C379"},"children":" /etc/netplan"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"# Optional: backup the setting"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" cp"}],["$","span",null,{"style":{"color":"#98C379"},"children":" 01-netcfg.yaml"}],["$","span",null,{"style":{"color":"#98C379"},"children":" 01-netcfg.yaml-backup"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"# edit the netplan"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" vi"}],["$","span",null,{"style":{"color":"#98C379"},"children":" 01-netcfg.yaml"}]]}]]}]}]}],"\n",["$","p",null,{"children":["Change the \"ENTIRE\" ",["$","$L4",null,{"children":"01-netcfg.yaml"}]," as follows"]}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":"0","data-language":"yaml","data-theme":"one-dark-pro","children":["$","$L4",null,{"data-line-numbers":"","data-language":"yaml","data-theme":"one-dark-pro","style":{"display":"grid"},"data-line-numbers-max-digits":"1","children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"# This file describes the network interfaces available on your system"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"# For more information, see netplan(5)."}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E06C75"},"children":"network"}],["$","span",null,{"style":{"color":"#ABB2BF"},"children":":"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E06C75"},"children":"  version"}],["$","span",null,{"style":{"color":"#ABB2BF"},"children":": "}],["$","span",null,{"style":{"color":"#D19A66"},"children":"2"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E06C75"},"children":"  renderer"}],["$","span",null,{"style":{"color":"#ABB2BF"},"children":": "}],["$","span",null,{"style":{"color":"#98C379"},"children":"NetworkManager"}]]}]]}]}]}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":"0","data-language":"bash","data-theme":"one-dark-pro","children":["$","$L4",null,{"data-line-numbers":"","data-language":"bash","data-theme":"one-dark-pro","style":{"display":"grid"},"data-line-numbers-max-digits":"1","children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" netplan"}],["$","span",null,{"style":{"color":"#98C379"},"children":" generate"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" netplan"}],["$","span",null,{"style":{"color":"#98C379"},"children":" apply"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" systemctl"}],["$","span",null,{"style":{"color":"#98C379"},"children":" restart"}],["$","span",null,{"style":{"color":"#98C379"},"children":" NetworkManager.service"}]]}]]}]}]}],"\n",["$","p",null,{"children":"The story hasn't ended yet. idk why i dont need these for the first attempt. For each start up, you need to run these"}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":"0","data-language":"bash","data-theme":"one-dark-pro","children":["$","$L4",null,{"data-line-numbers":"","data-language":"bash","data-theme":"one-dark-pro","style":{"display":"grid"},"data-line-numbers-max-digits":"1","children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"#!/bin/sh -e"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" modprobe"}],["$","span",null,{"style":{"color":"#D19A66"},"children":" -r"}],["$","span",null,{"style":{"color":"#98C379"},"children":" ideapad_laptop"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" rfkill"}],["$","span",null,{"style":{"color":"#98C379"},"children":" unblock"}],["$","span",null,{"style":{"color":"#98C379"},"children":" all"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#56B6C2"},"children":"exit"}],["$","span",null,{"style":{"color":"#D19A66"},"children":" 0"}]]}]]}]}]}],"\n",["$","p",null,{"children":["If you don't have ",["$","$L4",null,{"children":"rfkill"}],", install it by ",["$","$L4",null,{"children":"sudo apt isntall rfkill"}]]}],"\n",["$","p",null,{"children":["If you don't want to run it every time manually, you can put them as ",["$","$L4",null,{"children":"/etc/rc.local"}]]}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":"0","data-language":"bash","data-theme":"one-dark-pro","children":["$","$L4",null,{"data-line-numbers":"","data-language":"bash","data-theme":"one-dark-pro","style":{"display":"grid"},"data-line-numbers-max-digits":"1","children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" chmod"}],["$","span",null,{"style":{"color":"#98C379"},"children":" +x"}],["$","span",null,{"style":{"color":"#98C379"},"children":" /etc/rc.local"}]]}]}]}]}],"\n",["$","h2",null,{"id":"4-chinese-input","children":[["$","$L3",null,{"href":"#4-chinese-input","children":["$","span",null,{"className":"icon icon-link"}]}],"4. Chinese input"]}],"\n",["$","p",null,{"children":["Installing Chinese in KDE is such a headache, and the input method itself is much less user friendly than that in win10. ",["$","del",null,{"children":"But never mind when programming who use Chinese."}]]}],"\n",["$","p",null,{"children":"First install Chinese language pack"}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":"0","data-language":"bash","data-theme":"one-dark-pro","children":["$","$L4",null,{"data-line-numbers":"","data-language":"bash","data-theme":"one-dark-pro","style":{"display":"grid"},"data-line-numbers-max-digits":"1","children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" apt"}],["$","span",null,{"style":{"color":"#98C379"},"children":" install"}],["$","span",null,{"style":{"color":"#98C379"},"children":" language-pack-zh-hant"}],["$","span",null,{"style":{"color":"#ABB2BF"},"children":" "}]]}]}]}]}],"\n",["$","p",null,{"children":["Then check whether ",["$","$L4",null,{"children":"zh-tw"}]," something like that is in your locale by running"]}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":"0","data-language":"bash","data-theme":"one-dark-pro","children":["$","$L4",null,{"data-line-numbers":"","data-language":"bash","data-theme":"one-dark-pro","style":{"display":"grid"},"data-line-numbers-max-digits":"1","children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"locale"}],["$","span",null,{"style":{"color":"#D19A66"},"children":" -a"}]]}]}]}]}],"\n",["$","p",null,{"children":"Next install ibus. I have not successfully tried other input libraries. ibus claims itself as new and user friendly but nah..."}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":"0","data-language":"bash","data-theme":"one-dark-pro","children":["$","$L4",null,{"data-line-numbers":"","data-language":"bash","data-theme":"one-dark-pro","style":{"display":"grid"},"data-line-numbers-max-digits":"1","children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" apt"}],["$","span",null,{"style":{"color":"#98C379"},"children":" install"}],["$","span",null,{"style":{"color":"#98C379"},"children":" ibus"}],["$","span",null,{"style":{"color":"#98C379"},"children":" ibus-clutter"}],["$","span",null,{"style":{"color":"#98C379"},"children":" ibus-gtk"}],["$","span",null,{"style":{"color":"#98C379"},"children":" ibus-gtk3"}],["$","span",null,{"style":{"color":"#98C379"},"children":" ibus-qt4"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" apt"}],["$","span",null,{"style":{"color":"#98C379"},"children":" install"}],["$","span",null,{"style":{"color":"#98C379"},"children":" ibus-cangjie"}],["$","span",null,{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  # I use cangjie"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"im-config"}],["$","span",null,{"style":{"color":"#D19A66"},"children":" -s"}],["$","span",null,{"style":{"color":"#98C379"},"children":" ibus"}],["$","span",null,{"style":{"color":"#7F848E","fontStyle":"italic"},"children":" # ibus official docs said it is im-switch which is wrong"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#61AFEF"},"children":"ibus-setup"}]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" apt-get"}],["$","span",null,{"style":{"color":"#98C379"},"children":" install"}],["$","span",null,{"style":{"color":"#98C379"},"children":" gnome-icon-theme"}],["$","span",null,{"style":{"color":"#7F848E","fontStyle":"italic"},"children":" # poor KDE people need this idk why"}]]}]]}]}]}],"\n",["$","p",null,{"children":["add this to your ",["$","$L4",null,{"children":"~/.bashrc"}]," or ",["$","$L4",null,{"children":"~/.zshrc"}]," or you cannot use ibus in some app"]}],"\n",["$","pre",null,{"children":["$","$L4",null,{"children":"export GTK_IM_MODULE=ibus\nexport XMODIFIERS=@im=ibus\nexport QT_IM_MODULE=ibus\n"}]}],"\n",["$","p",null,{"children":"Finally log out and log in again will have it done :)"}],"\n",["$","p",null,{"children":"If the language box is not on the toolbar, run this"}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":"0","data-language":"bash","data-theme":"one-dark-pro","children":["$","$L4",null,{"data-line-numbers":"","data-language":"bash","data-theme":"one-dark-pro","style":{"display":"grid"},"data-line-numbers-max-digits":"1","children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"ibus-daemon"}],["$","span",null,{"style":{"color":"#D19A66"},"children":" -drx"}],["$","span",null,{"style":{"color":"#ABB2BF"},"children":" "}]]}]}]}]}],"\n",["$","h2",null,{"id":"5-share-drive-with-windows","children":[["$","$L3",null,{"href":"#5-share-drive-with-windows","children":["$","span",null,{"className":"icon icon-link"}]}],"5. Share drive with windows"]}],"\n",["$","p",null,{"children":"I also want to share some part of the hard drive for windows, rule of thumbs"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"Always save shared documents in NTFS partition"}],"\n",["$","li",null,{"children":"Need to disable fast boot in windows and dont boot to linux when window is sleeping"}],"\n"]}],"\n",["$","p",null,{"children":["And then in linux mount the drive (for me linux directly auto mount C: to ",["$","$L4",null,{"children":"/media/storage/"}],"), and symlink the folders in home directory to the shared drive (I just remove ",["$","$L4",null,{"children":"~/Documents/"}]," ",["$","$L4",null,{"children":"~/Pictures/"}]," etc and make some symlink that point to ",["$","$L4",null,{"children":"C:\\Users\\xxxxxx\\Documents"}]," whatever in ",["$","$L4",null,{"children":"~/"}],")"]}],"\n",["$","p",null,{"children":"One interesting thing is I am even able to share the VirtualBox VMs across linux and windows."}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"Set up the VM in windows environment"}],"\n",["$","li",null,{"children":["Add the VM in Linux environment","\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"Press Ctrl+A"}],"\n",["$","li",null,{"children":["Open ",["$","$L4",null,{"children":"myVirtualMachine.vbox"}]," in NTFS partition"]}],"\n",["$","li",null,{"children":"Done"}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","h2",null,{"id":"6-broken-nvidia-driver-after-updating-bios","children":[["$","$L3",null,{"href":"#6-broken-nvidia-driver-after-updating-bios","children":["$","span",null,{"className":"icon icon-link"}]}],"6. Broken nvidia driver after updating bios"]}],"\n",["$","p",null,{"children":"After I had update my bios, my entire nvidia driver breaks and back-light control is not working. My eyes hurt! (Takes me a whole night and morning to get it solved T^T)"}],"\n",["$","p",null,{"children":"What I did is update the nvidia driver"}],"\n",["$","p",null,{"children":"But then the driver is installed but not running, you can tell by"}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":"0","data-language":"bash","data-theme":"one-dark-pro","children":["$","$L4",null,{"data-line-numbers":"","data-language":"bash","data-theme":"one-dark-pro","style":{"display":"grid"},"data-line-numbers-max-digits":"1","children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"# you will see a list a nvidia packages you have installed"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"dpkg"}],["$","span",null,{"style":{"color":"#D19A66"},"children":" -l"}],["$","span",null,{"style":{"color":"#ABB2BF"},"children":" | "}],["$","span",null,{"style":{"color":"#61AFEF"},"children":"grep"}],["$","span",null,{"style":{"color":"#D19A66"},"children":" -i"}],["$","span",null,{"style":{"color":"#98C379"},"children":" nvidia"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"# you will see nvidia-driver is actually not running"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#61AFEF"},"children":"nvidia-smi"}]}]]}]}]}],"\n",["$","p",null,{"children":["What i did is just uninstall and then install all the nvidia related packages listed in ",["$","$L4",null,{"children":"dpkg -l | grep -i nvidia"}],", and then install the newest nvidia driver by the steps at #1."]}],"\n",["$","p",null,{"children":["And then I run ",["$","$L3",null,{"href":"https://devtalk.nvidia.com/default/topic/1037160","children":"https://devtalk.nvidia.com/default/topic/1037160"}]," again, it shows something like this"]}],"\n",["$","pre",null,{"children":["$","$L4",null,{"children":"$5"}]}],"\n",["$","p",null,{"children":["None of the processes are using the GPU, if I run ",["$","$L4",null,{"children":"nvidia-settings"}]," , it saids cannot connect to Nvidia driver whatever."]}],"\n",["$","p",null,{"children":["What I did is review the debug log, which is generated by ",["$","$L4",null,{"children":"nvidia-bug-report.sh "}],", I see something like this"]}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":"0","data-language":"bash","data-theme":"one-dark-pro","children":["$","$L4",null,{"data-line-numbers":"","data-language":"bash","data-theme":"one-dark-pro","style":{"display":"grid"},"data-line-numbers-max-digits":"1","children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"nvidia-modeset:"}],["$","span",null,{"style":{"color":"#98C379"},"children":" Version"}],["$","span",null,{"style":{"color":"#98C379"},"children":" mismatch:"}],["$","span",null,{"style":{"color":"#98C379"},"children":" nvidia.ko"}],["$","span",null,{"style":{"color":"#ABB2BF"},"children":"("}],["$","span",null,{"style":{"color":"#61AFEF"},"children":"440.26"}],["$","span",null,{"style":{"color":"#ABB2BF"},"children":") "}],["$","span",null,{"style":{"color":"#98C379"},"children":"nvidia-modeset.ko"}],["$","span",null,{"style":{"color":"#ABB2BF"},"children":"("}],["$","span",null,{"style":{"color":"#61AFEF"},"children":"435.21"}],["$","span",null,{"style":{"color":"#ABB2BF"},"children":")"}]]}]}]}]}],"\n",["$","p",null,{"children":["To solve this, I removed ",["$","$L4",null,{"children":"nvidia-modeset.ko"}]," and reinstall all nvidia related packages"]}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":"0","data-language":"bash","data-theme":"one-dark-pro","children":["$","$L4",null,{"data-line-numbers":"","data-language":"bash","data-theme":"one-dark-pro","style":{"display":"grid"},"data-line-numbers-max-digits":"1","children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#61AFEF"},"children":"sudo"}],["$","span",null,{"style":{"color":"#98C379"},"children":" rm"}],["$","span",null,{"style":{"color":"#98C379"},"children":" /lib/modules/4.15.0-36-generic/updates/dkms/nvidia-modeset.ko"}]]}]}]}]}],"\n",["$","p",null,{"children":["I changed ",["$","$L4",null,{"children":"4.15.0-36-generic"}],"to something else, anyway it should be changed to the newest one"]}],"\n",["$","p",null,{"children":["After I setup the brightness control again in #2, my eyes are saved! Run ",["$","$L4",null,{"children":"nvidia-smi"}]," I can see desktop processes are actually using the GPU, and ",["$","$L4",null,{"children":"nvidia-settings"}]," can open a normal dialog."]}],"\n",["$","pre",null,{"children":["$","$L4",null,{"children":"$6"}]}],"\n",["$","h2",null,{"id":"references","children":[["$","$L3",null,{"href":"#references","children":["$","span",null,{"className":"icon icon-link"}]}],"References"]}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["$","$L3",null,{"href":"https://www.pugetsystems.com/labs/hpc/The-Best-Way-To-Install-Ubuntu-18-04-with-NVIDIA-Drivers-and-any-Desktop-Flavor-1178/","children":"https://www.pugetsystems.com/labs/hpc/The-Best-Way-To-Install-Ubuntu-18-04-with-NVIDIA-Drivers-and-any-Desktop-Flavor-1178/"}]}],"\n",["$","li",null,{"children":["$","$L3",null,{"href":"https://bbs.archlinux.org/viewtopic.php?id=230932","children":"https://bbs.archlinux.org/viewtopic.php?id=230932"}]}],"\n",["$","li",null,{"children":["$","$L3",null,{"href":"https://www.howtogeek.com/howto/35807/how-to-harmonize-your-dual-boot-setup-for-windows-and-ubuntu/","children":"https://www.howtogeek.com/howto/35807/how-to-harmonize-your-dual-boot-setup-for-windows-and-ubuntu/"}]}],"\n",["$","li",null,{"children":["$","$L3",null,{"href":"https://ubuntuforums.org/showthread.php?t=2403551","children":"https://ubuntuforums.org/showthread.php?t=2403551"}]}],"\n",["$","li",null,{"children":["$","$L3",null,{"href":"https://github.com/ibus/ibus/wiki/Ubuntu","children":"https://github.com/ibus/ibus/wiki/Ubuntu"}]}],"\n",["$","li",null,{"children":["$","$L3",null,{"href":"https://devtalk.nvidia.com/default/topic/1037160","children":"https://devtalk.nvidia.com/default/topic/1037160"}]}],"\n"]}]]}]}]]}]],null],null]},["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children","$8","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/f5f6b199f5a7e5e5.css","precedence":"next","crossOrigin":"$undefined"}]]}],null]},["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"lang":"en","children":["$","body",null,{"children":[["$","$La",null,{"gaId":"G-2G457C66LH"}],["$","$Lb",null,{"attribute":"class","defaultTheme":"dark","children":[["$","header",null,{"id":"head","children":["$","header",null,{"className":"fixed top-0 w-full z-10 shadow-lg","children":["$","nav",null,{"children":["$","div",null,{"className":"flex justify-between items-center px-16 bg-nav text-nav-foreground","children":[["$","div",null,{"className":"flex items-center","children":[["$","$L3",null,{"className":"nav-item transition-all hover:bg-foreground/10 title px-3","href":"/#home","children":"Dipsyland"}],["$","$L3",null,{"className":"nav-item transition-all hover:bg-foreground/10","href":"/#about","children":"About Me"}],["$","$L3",null,{"className":"nav-item transition-all hover:bg-foreground/10","href":"/#works","children":"Works"}],["$","$L3",null,{"className":"nav-item transition-all hover:bg-foreground/10","href":"/#blog","children":"Blog"}],["$","$L3",null,{"className":"nav-item transition-all hover:bg-foreground/10","href":"/#about","children":"Contact"}]]}],["$","div",null,{"children":["$","$Lc",null,{}]}]]}]}]}]}],["$","main",null,{"id":"content","children":[["$","div",null,{"id":"home"}],["$","$Ld",null,{}],["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}],["$","footer",null,{"className":"bg-background/30 text-foreground backgrop-satuate-100 backdrop-blur-sm shadow py-8","children":["$","div",null,{"className":"flex justify-between container py-8 items-center","children":[["$","div",null,{"className":"flex flex-col space-y-2","children":"Make with love by Dipsy, Copyright© 2024 All Right Reserved"}],["$","div",null,{"className":"flex space-x-4","children":[["$","$Le","Facebook",{"href":"//www.facebook.com/FK.twf/","icon":"facebook","color":"#1877F2","title":"Facebook"}],["$","$Le","GitHub",{"href":"//github.com/dipsywong98","icon":"github","color":"#181717","title":"GitHub"}],["$","$Le","LinkedIn",{"href":"//www.linkedin.com/in/dipsywong/","icon":"linkedin","color":"#0077B5","title":"LinkedIn"}],["$","$Le","Email",{"href":"mailto:ycwongal@connect.ust.hk","icon":"gmail","color":"#D14836","title":"Email"}],["$","$Le","YouTube",{"href":"//www.youtube.com/user/FacebookArmyOffical","icon":"youtube","color":"#FF0000","title":"YouTube"}]]}]]}]}]]}]]}]]}]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/d1e1d355410e933b.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/50c584032bc4573c.css","precedence":"next","crossOrigin":"$undefined"}]],"$Lf"]]]]
f:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Installing Ubuntu on my Nvidia RTX2060 Laptop (Lenovo Legion Y7000SE) | Dipsyland"}],["$","meta","3",{"name":"description","content":"Pains and tears installing ubuntu"}],["$","link","4",{"rel":"canonical","href":"https://dipsy.me/posts/Installing-Ubuntu-on-my-Nvidia-RTX2060-Laptop-Lenovo-Legion-Y7000SE/"}],["$","meta","5",{"property":"og:title","content":"Installing Ubuntu on my Nvidia RTX2060 Laptop (Lenovo Legion Y7000SE)"}],["$","meta","6",{"property":"og:description","content":"Pains and tears installing ubuntu"}],["$","meta","7",{"property":"og:url","content":"https://dipsy.me/posts/Installing-Ubuntu-on-my-Nvidia-RTX2060-Laptop-Lenovo-Legion-Y7000SE/"}],["$","meta","8",{"property":"og:type","content":"article"}],["$","meta","9",{"property":"article:published_time","content":"2019-10-03T00:00:00.000Z"}],["$","meta","10",{"name":"twitter:card","content":"summary"}],["$","meta","11",{"name":"twitter:title","content":"Installing Ubuntu on my Nvidia RTX2060 Laptop (Lenovo Legion Y7000SE)"}],["$","meta","12",{"name":"twitter:description","content":"Pains and tears installing ubuntu"}],["$","link","13",{"rel":"icon","href":"/icon.png?053fff2283a75f27","type":"image/png","sizes":"96x96"}]]
1:null
