<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/d1e1d355410e933b.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/50c584032bc4573c.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f5f6b199f5a7e5e5.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-b6098240720f3918.js"/><script src="/_next/static/chunks/fd9d1056-ad3f9809e3f77200.js" async=""></script><script src="/_next/static/chunks/7023-370bac1cbd07fbf6.js" async=""></script><script src="/_next/static/chunks/main-app-f18ac9dfa8c42f92.js" async=""></script><script src="/_next/static/chunks/4263-74c7c712db107d50.js" async=""></script><script src="/_next/static/chunks/8278-5466c4320982b472.js" async=""></script><script src="/_next/static/chunks/5223-d8d2c9070295f5d4.js" async=""></script><script src="/_next/static/chunks/app/posts/%5Bslug%5D/page-aa96f01cb74750e8.js" async=""></script><script src="/_next/static/chunks/7053-68812d3dd5ada454.js" async=""></script><script src="/_next/static/chunks/app/layout-2b6d668e649a83ef.js" async=""></script><script src="/_next/static/chunks/d3ac728e-4f9f0688fd11b799.js" async=""></script><script src="/_next/static/chunks/3158-60beff0974f44667.js" async=""></script><script src="/_next/static/chunks/3530-0259f1a7e7bea590.js" async=""></script><script src="/_next/static/chunks/app/page-a42f5ece5c6a13f9.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-2G457C66LH" as="script"/><title>Installing Ubuntu on my Nvidia RTX2060 Laptop (Lenovo Legion Y7000SE) | Dipsyland</title><meta name="description" content="Pains and tears installing ubuntu"/><link rel="canonical" href="https://dipsy.me/posts/Installing-Ubuntu-on-my-Nvidia-RTX2060-Laptop-Lenovo-Legion-Y7000SE/"/><meta property="og:title" content="Installing Ubuntu on my Nvidia RTX2060 Laptop (Lenovo Legion Y7000SE)"/><meta property="og:description" content="Pains and tears installing ubuntu"/><meta property="og:url" content="https://dipsy.me/posts/Installing-Ubuntu-on-my-Nvidia-RTX2060-Laptop-Lenovo-Legion-Y7000SE/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2019-10-03T00:00:00.000Z"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Installing Ubuntu on my Nvidia RTX2060 Laptop (Lenovo Legion Y7000SE)"/><meta name="twitter:description" content="Pains and tears installing ubuntu"/><link rel="icon" href="/icon.png?053fff2283a75f27" type="image/png" sizes="96x96"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&false)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}else{c.add('dark')}if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'dark'}catch(e){}}()</script><header id="head"><header class="fixed top-0 w-full z-10 shadow-lg"><nav><div class="flex justify-between items-center px-16 bg-nav text-nav-foreground"><div class="flex items-center"><a class="nav-item transition-all hover:bg-foreground/10 title px-3" href="/#home">Dipsyland</a><a class="nav-item transition-all hover:bg-foreground/10" href="/#about">About Me</a><a class="nav-item transition-all hover:bg-foreground/10" href="/#works">Works</a><a class="nav-item transition-all hover:bg-foreground/10" href="/#blog">Blog</a><a class="nav-item transition-all hover:bg-foreground/10" href="/#about">Contact</a></div><div><button type="button" aria-label="Toggle theme" class="group rounded-full bg-white/50 px-3 py-2 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 transition dark:bg-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-6 w-6 fill-zinc-80 stroke-zinc-500 transition group-hover:fill-zinc-200 group-hover:stroke-zinc-700 dark:hidden [@media(prefers-color-scheme:dark)]:fill-zinc-50 [@media(prefers-color-scheme:dark)]:stroke-zinc-500 [@media(prefers-color-scheme:dark)]:group-hover:fill-zinc-50 [@media(prefers-color-scheme:dark)]:group-hover:stroke-zinc-600"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon-star hidden h-6 w-6 fill-zinc-700 stroke-zinc-500 transition dark:block [@media(prefers-color-scheme:dark)]:group-hover:stroke-zinc-400 [@media_not_(prefers-color-scheme:dark)]:fill-zinc-400/10 [@media_not_(prefers-color-scheme:dark)]:stroke-zinc-500"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9"></path><path d="M20 3v4"></path><path d="M22 5h-4"></path></svg></button></div></div></nav></header></header><main id="content"><div id="home"></div><div class="dipsyland root-el relative"><div class="container-el fixed w-full overflow-hidden"><div class="background-img sky"></div><div class="background-img cloud" style="margin-left:0px;bottom:-50px"></div><div class="background-img city" style="margin-left:0px;bottom:-50px"></div><div class="background-img grass" style="margin-left:0px;bottom:-50px"></div></div></div><div class="card text-left relative p-20 max-w-4xl min-h-[calc(var(--section-height) - 10rem * 2)] mx-auto my-40 overflow-hidden shadow-xl"><h1>Installing Ubuntu on my Nvidia RTX2060 Laptop (Lenovo Legion Y7000SE)</h1><time class="my-4 block text-sm text-zinc-400" dateTime="2019-10-03T00:00:00.000Z">October 3, 2019</time><article class="prose dark:prose-invert max-w-[90ch]"><h1 id="installing-ubuntu-on-my-nvidia-rtx2060-laptop-lenovo-legion-y7000se"><a href="#installing-ubuntu-on-my-nvidia-rtx2060-laptop-lenovo-legion-y7000se"><span class="icon icon-link"></span></a></h1>
<p>Procrastinated for three years, I finally decided to buy my very first &quot;first-hand&quot; computer. <del>Now I am bankrupted.</del> I got it from the school&#x27;s notebook ownership program which is rather worth it given the OP spec. With just 12000 HKD, I got 1TB SSD, Gen 9 i7 intel CPU core, Nvidia RTX 2060, 32GB RAM, HD screen, as well as a gigantic power supply yay~. As a <del>professional</del> IT dog, the very first thing I need to do is to install linux dual boot on it, but it has been cries and tears doing so. Took me several days TAT.</p>
<h2 id="1-install-nvidia-driver"><a href="#1-install-nvidia-driver"><span class="icon icon-link"></span></a>1. Install Nvidia Driver</h2>
<p>I cant directly install from desktop images as it will enter a broken screen as the computer don&#x27;t have Nvidia driver at fresh install.</p>
<p>Therefore I install ubuntu by first installing a ubuntu server, install the Nvidia driver manually, finally install the desktop.</p>
<p>During the installation wifi seems not working so I connect the computer with LAN.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="bash" data-theme="one-dark-pro"><code title="Click to copy" data-line-numbers="" data-language="bash" data-theme="one-dark-pro" style="display:grid" data-line-numbers-max-digits="2"><span data-line=""><span style="color:#7F848E;font-style:italic"># the repository that nvidia is</span></span>
<span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> add-apt-repository</span><span style="color:#98C379"> ppa:graphics-drivers/ppa</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic"># dynamic kernel module support</span></span>
<span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> apt-get</span><span style="color:#98C379"> install</span><span style="color:#98C379"> dkms</span><span style="color:#98C379"> build-essential</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> apt-get</span><span style="color:#98C379"> update</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic"># know what is the newest version of nvidia driver</span></span>
<span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> apt-get</span><span style="color:#98C379"> install</span><span style="color:#98C379"> ubuntu-drivers</span></span>
<span data-line=""><span style="color:#61AFEF">ubuntu-drivers</span><span style="color:#98C379"> list</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic"># install the driver</span></span>
<span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> apt-get</span><span style="color:#98C379"> install</span><span style="color:#98C379"> nvidia-driver-440</span></span></code></pre></figure>
<p>Then install a desktop distro. <del>I chose KDE because the desktop looks like win10, and I just joke with my non linux friends that it is win11 and they really believe in it</del>.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="bash" data-theme="one-dark-pro"><code title="Click to copy" data-line-numbers="" data-language="bash" data-theme="one-dark-pro" style="display:grid" data-line-numbers-max-digits="1"><span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> tasksel</span></span></code></pre></figure>
<p>This will display a list of available desktops that you can install</p>
<p>After installing, just reboot</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="bash" data-theme="one-dark-pro"><code title="Click to copy" data-line-numbers="" data-language="bash" data-theme="one-dark-pro" style="display:grid" data-line-numbers-max-digits="1"><span data-line=""><span style="color:#61AFEF">reboot</span></span></code></pre></figure>
<h2 id="2-brightness-control"><a href="#2-brightness-control"><span class="icon icon-link"></span></a>2. Brightness control</h2>
<p>And then brightness setting is not working</p>
<p>First need to enable brightness control of the GPU. Open  <code title="Click to copy">/usr/share/X11/xorg.conf.d/10-nvidia.conf</code> (or maybe other file like this in the same directory) and add a line of</p>
<pre><code title="Click to copy">Option &quot;RegistryDwords&quot; &quot;EnableBrightnessControl=1&quot;
</code></pre>
<p><strong>Everytime after you update the nvidia driver, you need to manually add back the above line.</strong></p>
<p>Then ubuntu don&#x27;t know it can control the lower level setting of computer. So to enable the OS to set the low level stuffs, set the grub by modifying a line in <code title="Click to copy">/etc/default/grub</code></p>
<pre><code title="Click to copy">GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet acpi_backlight=vendor acpi_osi=linux&quot;
</code></pre>
<p>Remember to <code title="Click to copy">sudo update-grub</code> and then restart.
You may now test the brightness control with <code title="Click to copy">xbacklight -set 10</code> or brightness control buttons on your computer if you have.</p>
<h2 id="3-cannot-connect-to-wifi"><a href="#3-cannot-connect-to-wifi"><span class="icon icon-link"></span></a>3. Cannot connect to WIFI</h2>
<p>Do this after you have installed desktop</p>
<p>First switch the netplan to use NetworkManager</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="bash" data-theme="one-dark-pro"><code title="Click to copy" data-line-numbers="" data-language="bash" data-theme="one-dark-pro" style="display:grid" data-line-numbers-max-digits="1"><span data-line=""><span style="color:#56B6C2">cd</span><span style="color:#98C379"> /etc/netplan</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic"># Optional: backup the setting</span></span>
<span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> cp</span><span style="color:#98C379"> 01-netcfg.yaml</span><span style="color:#98C379"> 01-netcfg.yaml-backup</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic"># edit the netplan</span></span>
<span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> vi</span><span style="color:#98C379"> 01-netcfg.yaml</span></span></code></pre></figure>
<p>Change the &quot;ENTIRE&quot; <code title="Click to copy">01-netcfg.yaml</code> as follows</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="yaml" data-theme="one-dark-pro"><code title="Click to copy" data-line-numbers="" data-language="yaml" data-theme="one-dark-pro" style="display:grid" data-line-numbers-max-digits="1"><span data-line=""><span style="color:#7F848E;font-style:italic"># This file describes the network interfaces available on your system</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic"># For more information, see netplan(5).</span></span>
<span data-line=""><span style="color:#E06C75">network</span><span style="color:#ABB2BF">:</span></span>
<span data-line=""><span style="color:#E06C75">  version</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">2</span></span>
<span data-line=""><span style="color:#E06C75">  renderer</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">NetworkManager</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="bash" data-theme="one-dark-pro"><code title="Click to copy" data-line-numbers="" data-language="bash" data-theme="one-dark-pro" style="display:grid" data-line-numbers-max-digits="1"><span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> netplan</span><span style="color:#98C379"> generate</span></span>
<span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> netplan</span><span style="color:#98C379"> apply</span></span>
<span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> systemctl</span><span style="color:#98C379"> restart</span><span style="color:#98C379"> NetworkManager.service</span></span></code></pre></figure>
<p>The story hasn&#x27;t ended yet. idk why i dont need these for the first attempt. For each start up, you need to run these</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="bash" data-theme="one-dark-pro"><code title="Click to copy" data-line-numbers="" data-language="bash" data-theme="one-dark-pro" style="display:grid" data-line-numbers-max-digits="1"><span data-line=""><span style="color:#7F848E;font-style:italic">#!/bin/sh -e</span></span>
<span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> modprobe</span><span style="color:#D19A66"> -r</span><span style="color:#98C379"> ideapad_laptop</span></span>
<span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> rfkill</span><span style="color:#98C379"> unblock</span><span style="color:#98C379"> all</span></span>
<span data-line=""><span style="color:#56B6C2">exit</span><span style="color:#D19A66"> 0</span></span></code></pre></figure>
<p>If you don&#x27;t have <code title="Click to copy">rfkill</code>, install it by <code title="Click to copy">sudo apt isntall rfkill</code></p>
<p>If you don&#x27;t want to run it every time manually, you can put them as <code title="Click to copy">/etc/rc.local</code></p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="bash" data-theme="one-dark-pro"><code title="Click to copy" data-line-numbers="" data-language="bash" data-theme="one-dark-pro" style="display:grid" data-line-numbers-max-digits="1"><span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> chmod</span><span style="color:#98C379"> +x</span><span style="color:#98C379"> /etc/rc.local</span></span></code></pre></figure>
<h2 id="4-chinese-input"><a href="#4-chinese-input"><span class="icon icon-link"></span></a>4. Chinese input</h2>
<p>Installing Chinese in KDE is such a headache, and the input method itself is much less user friendly than that in win10. <del>But never mind when programming who use Chinese.</del></p>
<p>First install Chinese language pack</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="bash" data-theme="one-dark-pro"><code title="Click to copy" data-line-numbers="" data-language="bash" data-theme="one-dark-pro" style="display:grid" data-line-numbers-max-digits="1"><span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> apt</span><span style="color:#98C379"> install</span><span style="color:#98C379"> language-pack-zh-hant</span><span style="color:#ABB2BF"> </span></span></code></pre></figure>
<p>Then check whether <code title="Click to copy">zh-tw</code> something like that is in your locale by running</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="bash" data-theme="one-dark-pro"><code title="Click to copy" data-line-numbers="" data-language="bash" data-theme="one-dark-pro" style="display:grid" data-line-numbers-max-digits="1"><span data-line=""><span style="color:#61AFEF">locale</span><span style="color:#D19A66"> -a</span></span></code></pre></figure>
<p>Next install ibus. I have not successfully tried other input libraries. ibus claims itself as new and user friendly but nah...</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="bash" data-theme="one-dark-pro"><code title="Click to copy" data-line-numbers="" data-language="bash" data-theme="one-dark-pro" style="display:grid" data-line-numbers-max-digits="1"><span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> apt</span><span style="color:#98C379"> install</span><span style="color:#98C379"> ibus</span><span style="color:#98C379"> ibus-clutter</span><span style="color:#98C379"> ibus-gtk</span><span style="color:#98C379"> ibus-gtk3</span><span style="color:#98C379"> ibus-qt4</span></span>
<span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> apt</span><span style="color:#98C379"> install</span><span style="color:#98C379"> ibus-cangjie</span><span style="color:#7F848E;font-style:italic">  # I use cangjie</span></span>
<span data-line=""><span style="color:#61AFEF">im-config</span><span style="color:#D19A66"> -s</span><span style="color:#98C379"> ibus</span><span style="color:#7F848E;font-style:italic"> # ibus official docs said it is im-switch which is wrong</span></span>
<span data-line=""><span style="color:#61AFEF">ibus-setup</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> apt-get</span><span style="color:#98C379"> install</span><span style="color:#98C379"> gnome-icon-theme</span><span style="color:#7F848E;font-style:italic"> # poor KDE people need this idk why</span></span></code></pre></figure>
<p>add this to your <code title="Click to copy">~/.bashrc</code> or <code title="Click to copy">~/.zshrc</code> or you cannot use ibus in some app</p>
<pre><code title="Click to copy">export GTK_IM_MODULE=ibus
export XMODIFIERS=@im=ibus
export QT_IM_MODULE=ibus
</code></pre>
<p>Finally log out and log in again will have it done :)</p>
<p>If the language box is not on the toolbar, run this</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="bash" data-theme="one-dark-pro"><code title="Click to copy" data-line-numbers="" data-language="bash" data-theme="one-dark-pro" style="display:grid" data-line-numbers-max-digits="1"><span data-line=""><span style="color:#61AFEF">ibus-daemon</span><span style="color:#D19A66"> -drx</span><span style="color:#ABB2BF"> </span></span></code></pre></figure>
<h2 id="5-share-drive-with-windows"><a href="#5-share-drive-with-windows"><span class="icon icon-link"></span></a>5. Share drive with windows</h2>
<p>I also want to share some part of the hard drive for windows, rule of thumbs</p>
<ol>
<li>Always save shared documents in NTFS partition</li>
<li>Need to disable fast boot in windows and dont boot to linux when window is sleeping</li>
</ol>
<p>And then in linux mount the drive (for me linux directly auto mount C: to <code title="Click to copy">/media/storage/</code>), and symlink the folders in home directory to the shared drive (I just remove <code title="Click to copy">~/Documents/</code> <code title="Click to copy">~/Pictures/</code> etc and make some symlink that point to <code title="Click to copy">C:\Users\xxxxxx\Documents</code> whatever in <code title="Click to copy">~/</code>)</p>
<p>One interesting thing is I am even able to share the VirtualBox VMs across linux and windows.</p>
<ol>
<li>Set up the VM in windows environment</li>
<li>Add the VM in Linux environment<!-- -->
<ol>
<li>Press Ctrl+A</li>
<li>Open <code title="Click to copy">myVirtualMachine.vbox</code> in NTFS partition</li>
<li>Done</li>
</ol>
</li>
</ol>
<h2 id="6-broken-nvidia-driver-after-updating-bios"><a href="#6-broken-nvidia-driver-after-updating-bios"><span class="icon icon-link"></span></a>6. Broken nvidia driver after updating bios</h2>
<p>After I had update my bios, my entire nvidia driver breaks and back-light control is not working. My eyes hurt! (Takes me a whole night and morning to get it solved T^T)</p>
<p>What I did is update the nvidia driver</p>
<p>But then the driver is installed but not running, you can tell by</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="bash" data-theme="one-dark-pro"><code title="Click to copy" data-line-numbers="" data-language="bash" data-theme="one-dark-pro" style="display:grid" data-line-numbers-max-digits="1"><span data-line=""><span style="color:#7F848E;font-style:italic"># you will see a list a nvidia packages you have installed</span></span>
<span data-line=""><span style="color:#61AFEF">dpkg</span><span style="color:#D19A66"> -l</span><span style="color:#ABB2BF"> | </span><span style="color:#61AFEF">grep</span><span style="color:#D19A66"> -i</span><span style="color:#98C379"> nvidia</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic"># you will see nvidia-driver is actually not running</span></span>
<span data-line=""><span style="color:#61AFEF">nvidia-smi</span></span></code></pre></figure>
<p>What i did is just uninstall and then install all the nvidia related packages listed in <code title="Click to copy">dpkg -l | grep -i nvidia</code>, and then install the newest nvidia driver by the steps at #1.</p>
<p>And then I run <a href="https://devtalk.nvidia.com/default/topic/1037160">https://devtalk.nvidia.com/default/topic/1037160</a> again, it shows something like this</p>
<pre><code title="Click to copy">+-----------------------------------------------------------------------------+
| NVIDIA-SMI 440.26       Driver Version: 440.26       CUDA Version: 10.2     |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  GeForce RTX 2060    Off  | 00000000:01:00.0  On |                  N/A |
| N/A   50C    P8     7W /  N/A |      0MiB /  5926MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                       GPU Memory |
|  GPU       PID   Type   Process name                             Usage      |
|=============================================================================|
+-----------------------------------------------------------------------------+
</code></pre>
<p>None of the processes are using the GPU, if I run <code title="Click to copy">nvidia-settings</code> , it saids cannot connect to Nvidia driver whatever.</p>
<p>What I did is review the debug log, which is generated by <code title="Click to copy">nvidia-bug-report.sh </code>, I see something like this</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="bash" data-theme="one-dark-pro"><code title="Click to copy" data-line-numbers="" data-language="bash" data-theme="one-dark-pro" style="display:grid" data-line-numbers-max-digits="1"><span data-line=""><span style="color:#61AFEF">nvidia-modeset:</span><span style="color:#98C379"> Version</span><span style="color:#98C379"> mismatch:</span><span style="color:#98C379"> nvidia.ko</span><span style="color:#ABB2BF">(</span><span style="color:#61AFEF">440.26</span><span style="color:#ABB2BF">) </span><span style="color:#98C379">nvidia-modeset.ko</span><span style="color:#ABB2BF">(</span><span style="color:#61AFEF">435.21</span><span style="color:#ABB2BF">)</span></span></code></pre></figure>
<p>To solve this, I removed <code title="Click to copy">nvidia-modeset.ko</code> and reinstall all nvidia related packages</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="bash" data-theme="one-dark-pro"><code title="Click to copy" data-line-numbers="" data-language="bash" data-theme="one-dark-pro" style="display:grid" data-line-numbers-max-digits="1"><span data-line=""><span style="color:#61AFEF">sudo</span><span style="color:#98C379"> rm</span><span style="color:#98C379"> /lib/modules/4.15.0-36-generic/updates/dkms/nvidia-modeset.ko</span></span></code></pre></figure>
<p>I changed <code title="Click to copy">4.15.0-36-generic</code>to something else, anyway it should be changed to the newest one</p>
<p>After I setup the brightness control again in #2, my eyes are saved! Run <code title="Click to copy">nvidia-smi</code> I can see desktop processes are actually using the GPU, and <code title="Click to copy">nvidia-settings</code> can open a normal dialog.</p>
<pre><code title="Click to copy">#&gt; nvidia-smi     
Fri Nov 29 08:20:51 2019       
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 440.26       Driver Version: 440.26       CUDA Version: 10.2     |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  GeForce RTX 2060    Off  | 00000000:01:00.0  On |                  N/A |
| N/A   50C    P8     7W /  N/A |    343MiB /  5926MiB |      3%      Default |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                       GPU Memory |
|  GPU       PID   Type   Process name                             Usage      |
|=============================================================================|
|    0      2483      G   /usr/lib/xorg/Xorg                           129MiB |
|    0      3186      G   kwin_x11                                      65MiB |
|    0      3207      G   /usr/bin/krunner                               3MiB |
|    0      3209      G   /usr/bin/plasmabash                          80MiB |
|    0      3314      G   /usr/bin/systemsettings5                      37MiB |
|    0      3497      G   /usr/bin/akonadi_archivemail_agent            13MiB |
|    0      3548      G   /usr/bin/akonadi_mailfilter_agent              3MiB |
|    0      3574      G   /usr/bin/akonadi_sendlater_agent               3MiB |
+-----------------------------------------------------------------------------+

</code></pre>
<h2 id="references"><a href="#references"><span class="icon icon-link"></span></a>References</h2>
<ol>
<li><a href="https://www.pugetsystems.com/labs/hpc/The-Best-Way-To-Install-Ubuntu-18-04-with-NVIDIA-Drivers-and-any-Desktop-Flavor-1178/">https://www.pugetsystems.com/labs/hpc/The-Best-Way-To-Install-Ubuntu-18-04-with-NVIDIA-Drivers-and-any-Desktop-Flavor-1178/</a></li>
<li><a href="https://bbs.archlinux.org/viewtopic.php?id=230932">https://bbs.archlinux.org/viewtopic.php?id=230932</a></li>
<li><a href="https://www.howtogeek.com/howto/35807/how-to-harmonize-your-dual-boot-setup-for-windows-and-ubuntu/">https://www.howtogeek.com/howto/35807/how-to-harmonize-your-dual-boot-setup-for-windows-and-ubuntu/</a></li>
<li><a href="https://ubuntuforums.org/showthread.php?t=2403551">https://ubuntuforums.org/showthread.php?t=2403551</a></li>
<li><a href="https://github.com/ibus/ibus/wiki/Ubuntu">https://github.com/ibus/ibus/wiki/Ubuntu</a></li>
<li><a href="https://devtalk.nvidia.com/default/topic/1037160">https://devtalk.nvidia.com/default/topic/1037160</a></li>
</ol></article></div><footer class="bg-background/30 text-foreground backgrop-satuate-100 backdrop-blur-sm shadow py-8"><div class="flex justify-between container py-8 items-center"><div class="flex flex-col space-y-2">Make with love by Dipsy, Copyright© 2024 All Right Reserved</div><div class="flex space-x-4"><div class="tooltip-root"><div class="title" style="opacity:0">Facebook</div><a href="//www.facebook.com/FK.twf/"><img alt="icon" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="/svg/facebook.svg"/></a></div><div class="tooltip-root"><div class="title" style="opacity:0">GitHub</div><a href="//github.com/dipsywong98"><img alt="icon" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="/svg/github.svg"/></a></div><div class="tooltip-root"><div class="title" style="opacity:0">LinkedIn</div><a href="//www.linkedin.com/in/dipsywong/"><img alt="icon" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="/svg/linkedin.svg"/></a></div><div class="tooltip-root"><div class="title" style="opacity:0">Email</div><a href="mailto:ycwongal@connect.ust.hk"><img alt="icon" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="/svg/gmail.svg"/></a></div><div class="tooltip-root"><div class="title" style="opacity:0">YouTube</div><a href="//www.youtube.com/user/FacebookArmyOffical"><img alt="icon" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="/svg/youtube.svg"/></a></div></div></div></footer></main><script src="/_next/static/chunks/webpack-b6098240720f3918.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/d1e1d355410e933b.css\",\"style\"]\n2:HL[\"/_next/static/css/50c584032bc4573c.css\",\"style\"]\n3:HL[\"/_next/static/css/f5f6b199f5a7e5e5.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"4:I[95751,[],\"\"]\n6:I[50316,[\"4263\",\"static/chunks/4263-74c7c712db107d50.js\",\"8278\",\"static/chunks/8278-5466c4320982b472.js\",\"5223\",\"static/chunks/5223-d8d2c9070295f5d4.js\",\"333\",\"static/chunks/app/posts/%5Bslug%5D/page-aa96f01cb74750e8.js\"],\"WidgetsRoot\"]\n7:I[231,[\"4263\",\"static/chunks/4263-74c7c712db107d50.js\",\"8278\",\"static/chunks/8278-5466c4320982b472.js\",\"5223\",\"static/chunks/5223-d8d2c9070295f5d4.js\",\"333\",\"static/chunks/app/posts/%5Bslug%5D/page-aa96f01cb74750e8.js\"],\"\"]\n8:I[32741,[\"4263\",\"static/chunks/4263-74c7c712db107d50.js\",\"8278\",\"static/chunks/8278-5466c4320982b472.js\",\"5223\",\"static/chunks/5223-d8d2c9070295f5d4.js\",\"333\",\"static/chunks/app/posts/%5Bslug%5D/page-aa96f01cb74750e8.js\"],\"Code\"]\nb:I[39275,[],\"\"]\nd:I[61343,[],\"\"]\ne:I[64404,[\"4263\",\"static/chunks/4263-74c7c712db107d50.js\",\"7053\",\"static/chunks/7053-68812d3dd5ada454.js\",\"5223\",\"static/chunks/5223-d8d2c9070295f5d4.js\",\"3185\",\"static/chunks/app/layout-2b6d668e649a83ef.js\"],\"GoogleAnalytics\"]\nf:I[82650,[\"4263\",\"static/chunks/4263-74c7c712db107d50.js\",\"7053\",\"static/chunks/7053-68812d3dd5ada454.js\",\"5223\",\"static/chunks/5223-d8d2c9070295f5d4.js\",\"3185\",\"static/chunks/app/layout-2b6d668e649a83ef.js\"],\"ThemeProvider\"]\n10:I[50558,[\"4263\",\"static/chunks/4263-74c7c712db107d50.js\",\"7053\",\"static/chunks/7053-68812d3dd5ada454.js\",\"5223\",\"static/chunks/5223-d8d2c9070295f5d4.js\",\"3185\",\"static/chunks/app/layout-2b6d668e649a83ef.js\"],\"default\"]\n11:I[40289,[\"4263\",\"static/chunks/4263-74c7c712db107d50.js\",\"7053\",\"static/chunks/7053-68812d3dd5ada454.js\",\"5223\",\"static/chunks/5223-d8d2c9070295f5d4.js\",\"3185\",\"static/chunks/app/layout-2b6d668e649a83ef.js\"],\"Dipsyland\"]\n12:I[22810,[\"3954\",\"static/chunks/d3ac728e-4f9f0688fd11b799.js\",\"3158\",\"static/chunks/3158-60beff0974f44667.js\",\"7053\",\"static/chunks/7053-68812d3dd5ada454.js\",\"3530\",\"static/chunks/3530-0259f1a7e7bea590.js\",\"1931\",\"static/chunks/app/page-a42f5ece5c6a13f9.js\"],\"SvgLink\"]\n14:I[76130,[],\"\"]\n9:T4b0,+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 440.26  "])</script><script>self.__next_f.push([1,"     Driver Version: 440.26       CUDA Version: 10.2     |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  GeForce RTX 2060    Off  | 00000000:01:00.0  On |                  N/A |\n| N/A   50C    P8     7W /  N/A |      0MiB /  5926MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n                                                                               \n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID   Type   Process name                             Usage      |\n|=============================================================================|\n+-----------------------------------------------------------------------------+\na:T763,#\u003e nvidia-smi     \nFri Nov 29 08:20:51 2019       \n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 440.26       Driver Version: 440.26       CUDA Version: 10.2     |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  GeForce RTX 2060    Off  | 00000000:01:00.0  On |                  N/A |\n| N/A   50C    P8     7W /  N/A |    343MiB /  5926MiB |      3%      Default |\n+-------------------------------+----------------------+----------------------+\n                                                                               \n+-----------------------------------------------------------------------------+\n| Processes"])</script><script>self.__next_f.push([1,":                                                       GPU Memory |\n|  GPU       PID   Type   Process name                             Usage      |\n|=============================================================================|\n|    0      2483      G   /usr/lib/xorg/Xorg                           129MiB |\n|    0      3186      G   kwin_x11                                      65MiB |\n|    0      3207      G   /usr/bin/krunner                               3MiB |\n|    0      3209      G   /usr/bin/plasmabash                          80MiB |\n|    0      3314      G   /usr/bin/systemsettings5                      37MiB |\n|    0      3497      G   /usr/bin/akonadi_archivemail_agent            13MiB |\n|    0      3548      G   /usr/bin/akonadi_mailfilter_agent              3MiB |\n|    0      3574      G   /usr/bin/akonadi_sendlater_agent               3MiB |\n+-----------------------------------------------------------------------------+\n\nc:[\"slug\",\"Installing-Ubuntu-on-my-Nvidia-RTX2060-Laptop-Lenovo-Legion-Y7000SE\",\"d\"]\n15:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d1e1d355410e933b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/50c584032bc4573c.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"l4FXq5dw8n774Xe3HA5CJ\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/Installing-Ubuntu-on-my-Nvidia-RTX2060-Laptop-Lenovo-Legion-Y7000SE/\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"Installing-Ubuntu-on-my-Nvidia-RTX2060-Laptop-Lenovo-Legion-Y7000SE\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"Installing-Ubuntu-on-my-Nvidia-RTX2060-Laptop-Lenovo-Legion-Y7000SE\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"Installing-Ubuntu-on-my-Nvidia-RTX2060-Laptop-Lenovo-Legion-Y7000SE\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L5\",[\"$\",\"div\",null,{\"className\":\"card text-left relative p-20 max-w-4xl min-h-[calc(var(--section-height) - 10rem * 2)] mx-auto my-40 overflow-hidden shadow-xl\",\"children\":[[\"$\",\"h1\",null,{\"children\":\"Installing Ubuntu on my Nvidia RTX2060 Laptop (Lenovo Legion Y7000SE)\"}],[\"$\",\"time\",null,{\"className\":\"my-4 block text-sm text-zinc-400\",\"dateTime\":\"2019-10-03T00:00:00.000Z\",\"children\":\"October 3, 2019\"}],[\"$\",\"article\",null,{\"className\":\"prose dark:prose-invert max-w-[90ch]\",\"children\":[\"$\",\"$L6\",null,{\"children\":[[\"$\",\"h1\",null,{\"id\":\"installing-ubuntu-on-my-nvidia-rtx2060-laptop-lenovo-legion-y7000se\",\"children\":[[\"$\",\"$L7\",null,{\"href\":\"#installing-ubuntu-on-my-nvidia-rtx2060-laptop-lenovo-legion-y7000se\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Procrastinated for three years, I finally decided to buy my very first \\\"first-hand\\\" computer. \",[\"$\",\"del\",null,{\"children\":\"Now I am bankrupted.\"}],\" I got it from the school's notebook ownership program which is rather worth it given the OP spec. With just 12000 HKD, I got 1TB SSD, Gen 9 i7 intel CPU core, Nvidia RTX 2060, 32GB RAM, HD screen, as well as a gigantic power supply yay~. As a \",[\"$\",\"del\",null,{\"children\":\"professional\"}],\" IT dog, the very first thing I need to do is to install linux dual boot on it, but it has been cries and tears doing so. Took me several days TAT.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"1-install-nvidia-driver\",\"children\":[[\"$\",\"$L7\",null,{\"href\":\"#1-install-nvidia-driver\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"1. Install Nvidia Driver\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"I cant directly install from desktop images as it will enter a broken screen as the computer don't have Nvidia driver at fresh install.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Therefore I install ubuntu by first installing a ubuntu server, install the Nvidia driver manually, finally install the desktop.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"During the installation wifi seems not working so I connect the computer with LAN.\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L8\",null,{\"data-line-numbers\":\"\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"data-line-numbers-max-digits\":\"2\",\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"# the repository that nvidia is\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" add-apt-repository\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" ppa:graphics-drivers/ppa\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"# dynamic kernel module support\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" apt-get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" install\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" dkms\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" build-essential\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" apt-get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" update\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"# know what is the newest version of nvidia driver\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" apt-get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" install\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" ubuntu-drivers\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"ubuntu-drivers\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" list\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"# install the driver\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" apt-get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" install\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" nvidia-driver-440\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Then install a desktop distro. \",[\"$\",\"del\",null,{\"children\":\"I chose KDE because the desktop looks like win10, and I just joke with my non linux friends that it is win11 and they really believe in it\"}],\".\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L8\",null,{\"data-line-numbers\":\"\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"data-line-numbers-max-digits\":\"1\",\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" tasksel\"}]]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This will display a list of available desktops that you can install\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"After installing, just reboot\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L8\",null,{\"data-line-numbers\":\"\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"data-line-numbers-max-digits\":\"1\",\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"reboot\"}]}]}]}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"2-brightness-control\",\"children\":[[\"$\",\"$L7\",null,{\"href\":\"#2-brightness-control\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"2. Brightness control\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"And then brightness setting is not working\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"First need to enable brightness control of the GPU. Open  \",[\"$\",\"$L8\",null,{\"children\":\"/usr/share/X11/xorg.conf.d/10-nvidia.conf\"}],\" (or maybe other file like this in the same directory) and add a line of\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"$L8\",null,{\"children\":\"Option \\\"RegistryDwords\\\" \\\"EnableBrightnessControl=1\\\"\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Everytime after you update the nvidia driver, you need to manually add back the above line.\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Then ubuntu don't know it can control the lower level setting of computer. So to enable the OS to set the low level stuffs, set the grub by modifying a line in \",[\"$\",\"$L8\",null,{\"children\":\"/etc/default/grub\"}]]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"$L8\",null,{\"children\":\"GRUB_CMDLINE_LINUX_DEFAULT=\\\"quiet acpi_backlight=vendor acpi_osi=linux\\\"\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Remember to \",[\"$\",\"$L8\",null,{\"children\":\"sudo update-grub\"}],\" and then restart.\\nYou may now test the brightness control with \",[\"$\",\"$L8\",null,{\"children\":\"xbacklight -set 10\"}],\" or brightness control buttons on your computer if you have.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"3-cannot-connect-to-wifi\",\"children\":[[\"$\",\"$L7\",null,{\"href\":\"#3-cannot-connect-to-wifi\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"3. Cannot connect to WIFI\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Do this after you have installed desktop\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"First switch the netplan to use NetworkManager\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L8\",null,{\"data-line-numbers\":\"\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"data-line-numbers-max-digits\":\"1\",\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"cd\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" /etc/netplan\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"# Optional: backup the setting\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" cp\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" 01-netcfg.yaml\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" 01-netcfg.yaml-backup\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"# edit the netplan\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" vi\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" 01-netcfg.yaml\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Change the \\\"ENTIRE\\\" \",[\"$\",\"$L8\",null,{\"children\":\"01-netcfg.yaml\"}],\" as follows\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L8\",null,{\"data-line-numbers\":\"\",\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"data-line-numbers-max-digits\":\"1\",\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"# This file describes the network interfaces available on your system\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"# For more information, see netplan(5).\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"network\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"  version\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D19A66\"},\"children\":\"2\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"  renderer\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"NetworkManager\"}]]}]]}]}]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L8\",null,{\"data-line-numbers\":\"\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"data-line-numbers-max-digits\":\"1\",\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" netplan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" generate\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" netplan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" apply\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" systemctl\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" restart\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" NetworkManager.service\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The story hasn't ended yet. idk why i dont need these for the first attempt. For each start up, you need to run these\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L8\",null,{\"data-line-numbers\":\"\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"data-line-numbers-max-digits\":\"1\",\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"#!/bin/sh -e\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" modprobe\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D19A66\"},\"children\":\" -r\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" ideapad_laptop\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" rfkill\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" unblock\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" all\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"exit\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D19A66\"},\"children\":\" 0\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"If you don't have \",[\"$\",\"$L8\",null,{\"children\":\"rfkill\"}],\", install it by \",[\"$\",\"$L8\",null,{\"children\":\"sudo apt isntall rfkill\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"If you don't want to run it every time manually, you can put them as \",[\"$\",\"$L8\",null,{\"children\":\"/etc/rc.local\"}]]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L8\",null,{\"data-line-numbers\":\"\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"data-line-numbers-max-digits\":\"1\",\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" chmod\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" +x\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" /etc/rc.local\"}]]}]}]}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"4-chinese-input\",\"children\":[[\"$\",\"$L7\",null,{\"href\":\"#4-chinese-input\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"4. Chinese input\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Installing Chinese in KDE is such a headache, and the input method itself is much less user friendly than that in win10. \",[\"$\",\"del\",null,{\"children\":\"But never mind when programming who use Chinese.\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"First install Chinese language pack\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L8\",null,{\"data-line-numbers\":\"\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"data-line-numbers-max-digits\":\"1\",\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" apt\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" install\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" language-pack-zh-hant\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" \"}]]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Then check whether \",[\"$\",\"$L8\",null,{\"children\":\"zh-tw\"}],\" something like that is in your locale by running\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L8\",null,{\"data-line-numbers\":\"\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"data-line-numbers-max-digits\":\"1\",\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"locale\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D19A66\"},\"children\":\" -a\"}]]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Next install ibus. I have not successfully tried other input libraries. ibus claims itself as new and user friendly but nah...\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L8\",null,{\"data-line-numbers\":\"\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"data-line-numbers-max-digits\":\"1\",\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" apt\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" install\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" ibus\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" ibus-clutter\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" ibus-gtk\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" ibus-gtk3\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" ibus-qt4\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" apt\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" install\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" ibus-cangjie\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"  # I use cangjie\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"im-config\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D19A66\"},\"children\":\" -s\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" ibus\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\" # ibus official docs said it is im-switch which is wrong\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"ibus-setup\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" apt-get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" install\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" gnome-icon-theme\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\" # poor KDE people need this idk why\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"add this to your \",[\"$\",\"$L8\",null,{\"children\":\"~/.bashrc\"}],\" or \",[\"$\",\"$L8\",null,{\"children\":\"~/.zshrc\"}],\" or you cannot use ibus in some app\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"$L8\",null,{\"children\":\"export GTK_IM_MODULE=ibus\\nexport XMODIFIERS=@im=ibus\\nexport QT_IM_MODULE=ibus\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Finally log out and log in again will have it done :)\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"If the language box is not on the toolbar, run this\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L8\",null,{\"data-line-numbers\":\"\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"data-line-numbers-max-digits\":\"1\",\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"ibus-daemon\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D19A66\"},\"children\":\" -drx\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" \"}]]}]}]}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"5-share-drive-with-windows\",\"children\":[[\"$\",\"$L7\",null,{\"href\":\"#5-share-drive-with-windows\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"5. Share drive with windows\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"I also want to share some part of the hard drive for windows, rule of thumbs\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Always save shared documents in NTFS partition\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Need to disable fast boot in windows and dont boot to linux when window is sleeping\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"And then in linux mount the drive (for me linux directly auto mount C: to \",[\"$\",\"$L8\",null,{\"children\":\"/media/storage/\"}],\"), and symlink the folders in home directory to the shared drive (I just remove \",[\"$\",\"$L8\",null,{\"children\":\"~/Documents/\"}],\" \",[\"$\",\"$L8\",null,{\"children\":\"~/Pictures/\"}],\" etc and make some symlink that point to \",[\"$\",\"$L8\",null,{\"children\":\"C:\\\\Users\\\\xxxxxx\\\\Documents\"}],\" whatever in \",[\"$\",\"$L8\",null,{\"children\":\"~/\"}],\")\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"One interesting thing is I am even able to share the VirtualBox VMs across linux and windows.\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Set up the VM in windows environment\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Add the VM in Linux environment\",\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Press Ctrl+A\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Open \",[\"$\",\"$L8\",null,{\"children\":\"myVirtualMachine.vbox\"}],\" in NTFS partition\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Done\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"6-broken-nvidia-driver-after-updating-bios\",\"children\":[[\"$\",\"$L7\",null,{\"href\":\"#6-broken-nvidia-driver-after-updating-bios\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"6. Broken nvidia driver after updating bios\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"After I had update my bios, my entire nvidia driver breaks and back-light control is not working. My eyes hurt! (Takes me a whole night and morning to get it solved T^T)\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"What I did is update the nvidia driver\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"But then the driver is installed but not running, you can tell by\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L8\",null,{\"data-line-numbers\":\"\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"data-line-numbers-max-digits\":\"1\",\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"# you will see a list a nvidia packages you have installed\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"dpkg\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D19A66\"},\"children\":\" -l\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" | \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"grep\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D19A66\"},\"children\":\" -i\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" nvidia\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"# you will see nvidia-driver is actually not running\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"nvidia-smi\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"What i did is just uninstall and then install all the nvidia related packages listed in \",[\"$\",\"$L8\",null,{\"children\":\"dpkg -l | grep -i nvidia\"}],\", and then install the newest nvidia driver by the steps at #1.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"And then I run \",[\"$\",\"$L7\",null,{\"href\":\"https://devtalk.nvidia.com/default/topic/1037160\",\"children\":\"https://devtalk.nvidia.com/default/topic/1037160\"}],\" again, it shows something like this\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"$L8\",null,{\"children\":\"$9\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"None of the processes are using the GPU, if I run \",[\"$\",\"$L8\",null,{\"children\":\"nvidia-settings\"}],\" , it saids cannot connect to Nvidia driver whatever.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"What I did is review the debug log, which is generated by \",[\"$\",\"$L8\",null,{\"children\":\"nvidia-bug-report.sh \"}],\", I see something like this\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L8\",null,{\"data-line-numbers\":\"\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"data-line-numbers-max-digits\":\"1\",\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"nvidia-modeset:\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" Version\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" mismatch:\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" nvidia.ko\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"440.26\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"nvidia-modeset.ko\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"435.21\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")\"}]]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"To solve this, I removed \",[\"$\",\"$L8\",null,{\"children\":\"nvidia-modeset.ko\"}],\" and reinstall all nvidia related packages\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L8\",null,{\"data-line-numbers\":\"\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"data-line-numbers-max-digits\":\"1\",\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" rm\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" /lib/modules/4.15.0-36-generic/updates/dkms/nvidia-modeset.ko\"}]]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"I changed \",[\"$\",\"$L8\",null,{\"children\":\"4.15.0-36-generic\"}],\"to something else, anyway it should be changed to the newest one\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"After I setup the brightness control again in #2, my eyes are saved! Run \",[\"$\",\"$L8\",null,{\"children\":\"nvidia-smi\"}],\" I can see desktop processes are actually using the GPU, and \",[\"$\",\"$L8\",null,{\"children\":\"nvidia-settings\"}],\" can open a normal dialog.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"$L8\",null,{\"children\":\"$a\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"references\",\"children\":[[\"$\",\"$L7\",null,{\"href\":\"#references\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"References\"]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"$L7\",null,{\"href\":\"https://www.pugetsystems.com/labs/hpc/The-Best-Way-To-Install-Ubuntu-18-04-with-NVIDIA-Drivers-and-any-Desktop-Flavor-1178/\",\"children\":\"https://www.pugetsystems.com/labs/hpc/The-Best-Way-To-Install-Ubuntu-18-04-with-NVIDIA-Drivers-and-any-Desktop-Flavor-1178/\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"$L7\",null,{\"href\":\"https://bbs.archlinux.org/viewtopic.php?id=230932\",\"children\":\"https://bbs.archlinux.org/viewtopic.php?id=230932\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"$L7\",null,{\"href\":\"https://www.howtogeek.com/howto/35807/how-to-harmonize-your-dual-boot-setup-for-windows-and-ubuntu/\",\"children\":\"https://www.howtogeek.com/howto/35807/how-to-harmonize-your-dual-boot-setup-for-windows-and-ubuntu/\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"$L7\",null,{\"href\":\"https://ubuntuforums.org/showthread.php?t=2403551\",\"children\":\"https://ubuntuforums.org/showthread.php?t=2403551\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"$L7\",null,{\"href\":\"https://github.com/ibus/ibus/wiki/Ubuntu\",\"children\":\"https://github.com/ibus/ibus/wiki/Ubuntu\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"$L7\",null,{\"href\":\"https://devtalk.nvidia.com/default/topic/1037160\",\"children\":\"https://devtalk.nvidia.com/default/topic/1037160\"}]}],\"\\n\"]}]]}]}]]}]],null],null]},[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",\"$c\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Ld\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f5f6b199f5a7e5e5.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],null]},[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Ld\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"children\":[[\"$\",\"$Le\",null,{\"gaId\":\"G-2G457C66LH\"}],[\"$\",\"$Lf\",null,{\"attribute\":\"class\",\"defaultTheme\":\"dark\",\"children\":[[\"$\",\"header\",null,{\"id\":\"head\",\"children\":[\"$\",\"header\",null,{\"className\":\"fixed top-0 w-full z-10 shadow-lg\",\"children\":[\"$\",\"nav\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"flex justify-between items-center px-16 bg-nav text-nav-foreground\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"$L7\",null,{\"className\":\"nav-item transition-all hover:bg-foreground/10 title px-3\",\"href\":\"/#home\",\"children\":\"Dipsyland\"}],[\"$\",\"$L7\",null,{\"className\":\"nav-item transition-all hover:bg-foreground/10\",\"href\":\"/#about\",\"children\":\"About Me\"}],[\"$\",\"$L7\",null,{\"className\":\"nav-item transition-all hover:bg-foreground/10\",\"href\":\"/#works\",\"children\":\"Works\"}],[\"$\",\"$L7\",null,{\"className\":\"nav-item transition-all hover:bg-foreground/10\",\"href\":\"/#blog\",\"children\":\"Blog\"}],[\"$\",\"$L7\",null,{\"className\":\"nav-item transition-all hover:bg-foreground/10\",\"href\":\"/#about\",\"children\":\"Contact\"}]]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"$L10\",null,{}]}]]}]}]}]}],[\"$\",\"main\",null,{\"id\":\"content\",\"children\":[[\"$\",\"div\",null,{\"id\":\"home\"}],[\"$\",\"$L11\",null,{}],[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Ld\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}],[\"$\",\"footer\",null,{\"className\":\"bg-background/30 text-foreground backgrop-satuate-100 backdrop-blur-sm shadow py-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex justify-between container py-8 items-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex flex-col space-y-2\",\"children\":\"Make with love by Dipsy, Copyright© 2024 All Right Reserved\"}],[\"$\",\"div\",null,{\"className\":\"flex space-x-4\",\"children\":[[\"$\",\"$L12\",\"Facebook\",{\"href\":\"//www.facebook.com/FK.twf/\",\"icon\":\"facebook\",\"color\":\"#1877F2\",\"title\":\"Facebook\"}],[\"$\",\"$L12\",\"GitHub\",{\"href\":\"//github.com/dipsywong98\",\"icon\":\"github\",\"color\":\"#181717\",\"title\":\"GitHub\"}],[\"$\",\"$L12\",\"LinkedIn\",{\"href\":\"//www.linkedin.com/in/dipsywong/\",\"icon\":\"linkedin\",\"color\":\"#0077B5\",\"title\":\"LinkedIn\"}],[\"$\",\"$L12\",\"Email\",{\"href\":\"mailto:ycwongal@connect.ust.hk\",\"icon\":\"gmail\",\"color\":\"#D14836\",\"title\":\"Email\"}],[\"$\",\"$L12\",\"YouTube\",{\"href\":\"//www.youtube.com/user/FacebookArmyOffical\",\"icon\":\"youtube\",\"color\":\"#FF0000\",\"title\":\"YouTube\"}]]}]]}]}]]}]]}]]}]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[false,\"$L13\"],\"globalErrorComponent\":\"$14\",\"missingSlots\":\"$W15\"}]]\n"])</script><script>self.__next_f.push([1,"13:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Installing Ubuntu on my Nvidia RTX2060 Laptop (Lenovo Legion Y7000SE) | Dipsyland\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Pains and tears installing ubuntu\"}],[\"$\",\"link\",\"4\",{\"rel\":\"canonical\",\"href\":\"https://dipsy.me/posts/Installing-Ubuntu-on-my-Nvidia-RTX2060-Laptop-Lenovo-Legion-Y7000SE/\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:title\",\"content\":\"Installing Ubuntu on my Nvidia RTX2060 Laptop (Lenovo Legion Y7000SE)\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:description\",\"content\":\"Pains and tears installing ubuntu\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:url\",\"content\":\"https://dipsy.me/posts/Installing-Ubuntu-on-my-Nvidia-RTX2060-Laptop-Lenovo-Legion-Y7000SE/\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"9\",{\"property\":\"article:published_time\",\"content\":\"2019-10-03T00:00:00.000Z\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:title\",\"content\":\"Installing Ubuntu on my Nvidia RTX2060 Laptop (Lenovo Legion Y7000SE)\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:description\",\"content\":\"Pains and tears installing ubuntu\"}],[\"$\",\"link\",\"13\",{\"rel\":\"icon\",\"href\":\"/icon.png?053fff2283a75f27\",\"type\":\"image/png\",\"sizes\":\"96x96\"}]]\n5:null\n"])</script></body></html>