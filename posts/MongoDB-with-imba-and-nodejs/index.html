<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/d1e1d355410e933b.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/b1044f11627f501d.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-f6d831f5b8f364ac.js"/><script src="/_next/static/chunks/fd9d1056-ad3f9809e3f77200.js" async=""></script><script src="/_next/static/chunks/7023-0789e080c5116e54.js" async=""></script><script src="/_next/static/chunks/main-app-f18ac9dfa8c42f92.js" async=""></script><script src="/_next/static/chunks/8173-53777d1212e6c2a1.js" async=""></script><script src="/_next/static/chunks/231-b684ef6c6a321bb5.js" async=""></script><script src="/_next/static/chunks/1068-de3bc04ff7214d06.js" async=""></script><script src="/_next/static/chunks/app/posts/%5Bslug%5D/page-b91ef33f0c6160da.js" async=""></script><script src="/_next/static/chunks/app/layout-575b5c0b944e811a.js" async=""></script><script src="/_next/static/chunks/d3ac728e-4f9f0688fd11b799.js" async=""></script><script src="/_next/static/chunks/3158-60beff0974f44667.js" async=""></script><script src="/_next/static/chunks/3530-0259f1a7e7bea590.js" async=""></script><script src="/_next/static/chunks/app/page-64e37caa71af8afa.js" async=""></script><title>MongoDB with imba and nodejs | Dipsyland</title><link rel="canonical" href="https://dipsy.me/posts/MongoDB-with-imba-and-nodejs/"/><meta property="og:title" content="MongoDB with imba and nodejs"/><meta property="og:url" content="https://dipsy.me/posts/MongoDB-with-imba-and-nodejs/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2018-12-16T00:00:00.000Z"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="MongoDB with imba and nodejs"/><link rel="icon" href="/icon.png?053fff2283a75f27" type="image/png" sizes="96x96"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&false)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}else{c.add('dark')}if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'dark'}catch(e){}}()</script><header id="head"><header class="fixed top-0 w-full z-10 shadow-lg"><nav><div class="flex justify-between items-center px-16 bg-nav text-nav-foreground"><div class="flex items-center"><a class="nav-item transition-all hover:bg-foreground/10 title px-3" href="/#home">Dipsyland</a><a class="nav-item transition-all hover:bg-foreground/10" href="/#about">About Me</a><a class="nav-item transition-all hover:bg-foreground/10" href="/#works">Works</a><a class="nav-item transition-all hover:bg-foreground/10" href="/#blog">Blog</a><a class="nav-item transition-all hover:bg-foreground/10" href="/#about">Contact</a></div><div><button type="button" aria-label="Toggle theme" class="group rounded-full bg-white/50 px-3 py-2 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 transition dark:bg-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-6 w-6 fill-zinc-80 stroke-zinc-500 transition group-hover:fill-zinc-200 group-hover:stroke-zinc-700 dark:hidden [@media(prefers-color-scheme:dark)]:fill-zinc-50 [@media(prefers-color-scheme:dark)]:stroke-zinc-500 [@media(prefers-color-scheme:dark)]:group-hover:fill-zinc-50 [@media(prefers-color-scheme:dark)]:group-hover:stroke-zinc-600"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon-star hidden h-6 w-6 fill-zinc-700 stroke-zinc-500 transition dark:block [@media(prefers-color-scheme:dark)]:group-hover:stroke-zinc-400 [@media_not_(prefers-color-scheme:dark)]:fill-zinc-400/10 [@media_not_(prefers-color-scheme:dark)]:stroke-zinc-500"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9"></path><path d="M20 3v4"></path><path d="M22 5h-4"></path></svg></button></div></div></nav></header></header><main id="content"><div id="home"></div><div class="dipsyland root-el relative"><div class="container-el fixed w-full overflow-hidden"><div class="background-img sky"></div><div class="background-img cloud" style="margin-left:0px;bottom:-50px"></div><div class="background-img city" style="margin-left:0px;bottom:-50px"></div><div class="background-img grass" style="margin-left:0px;bottom:-50px"></div></div></div><div class="card text-left relative p-20 max-w-4xl min-h-[calc(var(--section-height) - 10rem * 2)] mx-auto my-40 overflow-hidden shadow-xl"><h1>MongoDB with imba and nodejs</h1><time class="my-4 block text-sm text-zinc-400" dateTime="2018-12-16T00:00:00.000Z">December 16, 2018</time><article class="prose dark:prose-invert max-w-[90ch]"><h1 id="mongodb-with-imba-and-nodejs"><a href="#mongodb-with-imba-and-nodejs"><span class="icon icon-link"></span></a></h1>
<h3 id="introduction"><a href="#introduction"><span class="icon icon-link"></span></a>Introduction</h3>
<p>I am going to make a new version of corner detection challenge judge, and I am trying to make it with imba in both client side and server side, in the middle we use restful API and socket for communication, while the database we are trying to use MongoDB.</p>
<p>As for imba environment set up I have another note already, this time it is MongoDB which I am totally new with. MongoDB is a noSQL architecture that do database queries without SQL, looks like firebase, however, it seems there is no way to listen to changes like firebase (<a href="https://stackoverflow.com/questions/42565778/is-there-a-way-to-listen-to-a-mongodb-collection">stackoverflow</a>).</p>
<h3 id="setup"><a href="#setup"><span class="icon icon-link"></span></a>Setup</h3>
<p><a href="https://www.mongodb.com/download-center/community">Install MongoDB on computer</a></p>
<p><a href="https://docs.mongodb.com/compass/master/install/">Install MongoDB official GUI - Compass</a></p>
<p>Follow the instructions so that MongoDB would be installed on your computer, and really at <code title="Click to copy">localhost:27071</code></p>
<p>In your node project which uses MongoDB, run <code title="Click to copy">npm i mongodb</code></p>
<h3 id="connect"><a href="#connect"><span class="icon icon-link"></span></a>Connect</h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="js" data-theme="one-dark-pro"><code title="Click to copy" data-language="js" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#7F848E;font-style:italic">// javascript version</span></span>
<span data-line=""><span style="color:#C678DD">let</span><span style="color:#E06C75"> MongoClient</span><span style="color:#56B6C2"> =</span><span style="color:#61AFEF"> require</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&#x27;mongodb&#x27;</span><span style="color:#ABB2BF">).</span><span style="color:#E06C75">MongoClient</span></span>
<span data-line=""><span style="color:#C678DD">let</span><span style="color:#E06C75"> uri</span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> &#x27;mongodb://localhost:27017&#x27;</span></span>
<span data-line=""><span style="color:#C678DD">const</span><span style="color:#E5C07B"> client</span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> new</span><span style="color:#61AFEF"> MongoClient</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">uri</span><span style="color:#ABB2BF">, { </span><span style="color:#E06C75">useNewUrlParser</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">true</span><span style="color:#ABB2BF"> })</span></span>
<span data-line=""><span style="color:#E5C07B">client</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">connect</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">err</span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF">{</span></span>
<span data-line=""><span style="color:#E5C07B">  console</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">log</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">err</span><span style="color:#56B6C2">||</span><span style="color:#98C379">&#x27;successfully connect to mongo&#x27;</span><span style="color:#ABB2BF">)</span></span>
<span data-line=""><span style="color:#ABB2BF">})</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="imba" data-theme="one-dark-pro"><code title="Click to copy" data-language="imba" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#7F848E;font-style:italic"># imba version</span></span>
<span data-line=""><span style="color:#C678DD">let</span><span style="color:#E06C75"> MongoClient</span><span style="color:#56B6C2"> =</span><span style="color:#E06C75"> require</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&#x27;mongodb&#x27;</span><span style="color:#ABB2BF">).</span><span style="color:#E06C75">MongoClient</span></span>
<span data-line=""><span style="color:#C678DD">let</span><span style="color:#E06C75"> uri</span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> &quot;mongodb://localhost:27017&quot;</span></span>
<span data-line=""><span style="color:#C678DD">const</span><span style="color:#E06C75"> client</span><span style="color:#56B6C2"> =</span><span style="color:#E06C75"> MongoClient</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">new</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">uri</span><span style="color:#ABB2BF">, { </span><span style="color:#E06C75">useNewUrlParser:</span><span style="color:#D19A66"> true</span><span style="color:#ABB2BF"> })</span></span>
<span data-line=""><span style="color:#E06C75">client</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">connect</span><span style="color:#C678DD"> do</span><span style="color:#C678DD"> |</span><span style="color:#E06C75">err</span><span style="color:#C678DD">|</span></span>
<span data-line=""><span style="color:#E06C75">	console</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">log</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">err</span><span style="color:#56B6C2">||</span><span style="color:#98C379">&#x27;successfully connect to mongo&#x27;</span><span style="color:#ABB2BF">)</span></span></code></pre></figure>
<p>As for successful connection, the program will print out &quot;successfully connect to mongo&quot;, and you can use the client object for further application</p>
<h4 id="further-sequential-initialization-with-express"><a href="#further-sequential-initialization-with-express"><span class="icon icon-link"></span></a>Further: sequential initialization with Express</h4>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="imba" data-theme="one-dark-pro"><code title="Click to copy" data-language="imba" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#C678DD">def</span><span style="color:#E06C75"> initExpress</span><span style="color:#E06C75"> client</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">    # mongoDB client ready for usage</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">    # ...</span></span>
<span data-line=""> </span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">def</span><span style="color:#E06C75"> initMongo</span></span>
<span data-line=""><span style="color:#C678DD">	let</span><span style="color:#E06C75"> MongoClient</span><span style="color:#56B6C2"> =</span><span style="color:#E06C75"> require</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&#x27;mongodb&#x27;</span><span style="color:#ABB2BF">).</span><span style="color:#E06C75">MongoClient</span></span>
<span data-line=""><span style="color:#C678DD">	let</span><span style="color:#E06C75"> uri</span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> &quot;mongodb://localhost:27017&quot;</span></span>
<span data-line=""><span style="color:#C678DD">	const</span><span style="color:#E06C75"> client</span><span style="color:#56B6C2"> =</span><span style="color:#E06C75"> MongoClient</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">new</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">uri</span><span style="color:#ABB2BF">, { </span><span style="color:#E06C75">useNewUrlParser:</span><span style="color:#D19A66"> true</span><span style="color:#ABB2BF"> })</span></span>
<span data-line=""><span style="color:#C678DD">	await</span><span style="color:#E06C75"> Promise</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">new</span><span style="color:#C678DD"> do</span><span style="color:#C678DD"> |</span><span style="color:#E06C75">resolve</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75">reject</span><span style="color:#C678DD">|</span></span>
<span data-line=""><span style="color:#E06C75">		client</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">connect</span><span style="color:#C678DD"> do</span><span style="color:#C678DD"> |</span><span style="color:#E06C75">err</span><span style="color:#C678DD">|</span></span>
<span data-line=""><span style="color:#E06C75">			console</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">log</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">err</span><span style="color:#56B6C2">||</span><span style="color:#98C379">&#x27;no error connecting mongo&#x27;</span><span style="color:#ABB2BF">)</span></span>
<span data-line=""><span style="color:#E06C75">			resolve</span><span style="color:#E06C75"> client</span></span>
<span data-line=""><span style="color:#C678DD">	return</span><span style="color:#E06C75"> client</span></span>
<span data-line=""><span style="color:#ABB2BF">	</span></span>
<span data-line=""><span style="color:#C678DD">def</span><span style="color:#E06C75"> main</span></span>
<span data-line=""><span style="color:#E06C75">	var</span><span style="color:#E06C75"> client</span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> await</span><span style="color:#E06C75"> initMongo</span></span>
<span data-line=""><span style="color:#E06C75">	initExpress</span><span style="color:#E06C75"> client</span></span>
<span data-line=""><span style="color:#ABB2BF">	</span></span>
<span data-line=""><span style="color:#E06C75">main</span></span></code></pre></figure>
<h3 id="insert"><a href="#insert"><span class="icon icon-link"></span></a>Insert</h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="js" data-theme="one-dark-pro"><code title="Click to copy" data-language="js" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#E5C07B">client</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">db</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&#x27;my_db&#x27;</span><span style="color:#ABB2BF">).</span><span style="color:#61AFEF">collection</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&#x27;my_collection&#x27;</span><span style="color:#ABB2BF">).</span><span style="color:#61AFEF">insertOne</span><span style="color:#ABB2BF">({</span><span style="color:#E06C75">myField</span><span style="color:#ABB2BF">:</span><span style="color:#98C379">&#x27;myValue&#x27;</span><span style="color:#ABB2BF">},(</span><span style="color:#E06C75;font-style:italic">err</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75;font-style:italic">res</span><span style="color:#ABB2BF">)</span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF">{</span></span>
<span data-line=""><span style="color:#E5C07B">    console</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">log</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">err</span><span style="color:#56B6C2">||</span><span style="color:#98C379">&#x27;successfully inserted&#x27;</span><span style="color:#ABB2BF">)</span></span>
<span data-line=""><span style="color:#ABB2BF">})</span></span>
<span data-line=""> </span></code></pre></figure>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="imba" data-theme="one-dark-pro"><code title="Click to copy" data-language="imba" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#E06C75">client</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">db</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&#x27;my_db&#x27;</span><span style="color:#ABB2BF">).</span><span style="color:#E06C75">collection</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&#x27;my_collection&#x27;</span><span style="color:#ABB2BF">).</span><span style="color:#E06C75">insertOne</span><span style="color:#ABB2BF"> {</span><span style="color:#E06C75">myField:</span><span style="color:#98C379">&#x27;myValue&#x27;</span><span style="color:#ABB2BF">} </span><span style="color:#C678DD">do</span><span style="color:#C678DD"> |</span><span style="color:#E06C75">err</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75">res</span><span style="color:#C678DD">|</span></span>
<span data-line=""><span style="color:#E06C75">    console</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">log</span><span style="color:#E06C75"> err</span><span style="color:#56B6C2">||</span><span style="color:#98C379">&#x27;successfully inserted&#x27;</span></span>
<span data-line=""> </span></code></pre></figure>
<p>If <code title="Click to copy">my_db</code> database or <code title="Click to copy">my_collection</code> collection has not been created before insertion, mongo will create it first then create.</p>
<h3 id="query"><a href="#query"><span class="icon icon-link"></span></a>Query</h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="js" data-theme="one-dark-pro"><code title="Click to copy" data-language="js" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#E5C07B">client</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">db</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&#x27;my_db&#x27;</span><span style="color:#ABB2BF">).</span><span style="color:#61AFEF">collection</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&#x27;my_collection&#x27;</span><span style="color:#ABB2BF">).</span><span style="color:#61AFEF">findOne</span><span style="color:#ABB2BF">({},(</span><span style="color:#E06C75;font-style:italic">err</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75;font-style:italic">res</span><span style="color:#ABB2BF">)</span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF">{</span></span>
<span data-line=""><span style="color:#E5C07B">    console</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">log</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">res</span><span style="color:#ABB2BF">)</span></span>
<span data-line=""><span style="color:#ABB2BF">})</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E5C07B">client</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">db</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&#x27;my_db&#x27;</span><span style="color:#ABB2BF">).</span><span style="color:#61AFEF">collection</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&#x27;my_collection&#x27;</span><span style="color:#ABB2BF">).</span><span style="color:#61AFEF">findOne</span><span style="color:#ABB2BF">({</span><span style="color:#E06C75">key</span><span style="color:#ABB2BF">:</span><span style="color:#98C379">&#x27;value&#x27;</span><span style="color:#ABB2BF">},(</span><span style="color:#E06C75;font-style:italic">err</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75;font-style:italic">res</span><span style="color:#ABB2BF">)</span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF">{</span></span>
<span data-line=""><span style="color:#E5C07B">    console</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">log</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">res</span><span style="color:#ABB2BF">)</span><span style="color:#7F848E;font-style:italic">//one result that its key matches value</span></span>
<span data-line=""><span style="color:#ABB2BF">})</span></span></code></pre></figure>
<p>The <code title="Click to copy">{}</code> is an atomic operation which describes the items that you are going to query, for example <code title="Click to copy">{age:{$gt:18}}</code> means you are going to query an item with attribute <code title="Click to copy">age</code> greater than 18</p></article></div><footer class="bg-background/30 text-foreground backgrop-satuate-100 backdrop-blur-sm shadow py-8"><div class="flex justify-between container py-8 items-center"><div class="flex flex-col space-y-2">Make with love by Dipsy, Copyright© 2024 All Right Reserved</div><div class="flex space-x-4"><div class="tooltip-root"><div class="title" style="opacity:0">Facebook</div><a href="//www.facebook.com/FK.twf/"><img alt="icon" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="/svg/facebook.svg"/></a></div><div class="tooltip-root"><div class="title" style="opacity:0">GitHub</div><a href="//github.com/dipsywong98"><img alt="icon" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="/svg/github.svg"/></a></div><div class="tooltip-root"><div class="title" style="opacity:0">LinkedIn</div><a href="//www.linkedin.com/in/dipsywong/"><img alt="icon" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="/svg/linkedin.svg"/></a></div><div class="tooltip-root"><div class="title" style="opacity:0">Email</div><a href="mailto:ycwongal@connect.ust.hk"><img alt="icon" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="/svg/gmail.svg"/></a></div><div class="tooltip-root"><div class="title" style="opacity:0">YouTube</div><a href="//www.youtube.com/user/FacebookArmyOffical"><img alt="icon" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="/svg/youtube.svg"/></a></div></div></div></footer></main><script src="/_next/static/chunks/webpack-f6d831f5b8f364ac.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/d1e1d355410e933b.css\",\"style\"]\n2:HL[\"/_next/static/css/b1044f11627f501d.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[95751,[],\"\"]\n5:I[50316,[\"8173\",\"static/chunks/8173-53777d1212e6c2a1.js\",\"231\",\"static/chunks/231-b684ef6c6a321bb5.js\",\"1068\",\"static/chunks/1068-de3bc04ff7214d06.js\",\"333\",\"static/chunks/app/posts/%5Bslug%5D/page-b91ef33f0c6160da.js\"],\"WidgetsRoot\"]\n6:I[231,[\"8173\",\"static/chunks/8173-53777d1212e6c2a1.js\",\"231\",\"static/chunks/231-b684ef6c6a321bb5.js\",\"1068\",\"static/chunks/1068-de3bc04ff7214d06.js\",\"333\",\"static/chunks/app/posts/%5Bslug%5D/page-b91ef33f0c6160da.js\"],\"\"]\n7:I[32741,[\"8173\",\"static/chunks/8173-53777d1212e6c2a1.js\",\"231\",\"static/chunks/231-b684ef6c6a321bb5.js\",\"1068\",\"static/chunks/1068-de3bc04ff7214d06.js\",\"333\",\"static/chunks/app/posts/%5Bslug%5D/page-b91ef33f0c6160da.js\"],\"Code\"]\n8:I[39275,[],\"\"]\na:I[61343,[],\"\"]\nb:I[82650,[\"8173\",\"static/chunks/8173-53777d1212e6c2a1.js\",\"231\",\"static/chunks/231-b684ef6c6a321bb5.js\",\"3185\",\"static/chunks/app/layout-575b5c0b944e811a.js\"],\"ThemeProvider\"]\nc:I[50558,[\"8173\",\"static/chunks/8173-53777d1212e6c2a1.js\",\"231\",\"static/chunks/231-b684ef6c6a321bb5.js\",\"3185\",\"static/chunks/app/layout-575b5c0b944e811a.js\"],\"default\"]\nd:I[40289,[\"8173\",\"static/chunks/8173-53777d1212e6c2a1.js\",\"231\",\"static/chunks/231-b684ef6c6a321bb5.js\",\"3185\",\"static/chunks/app/layout-575b5c0b944e811a.js\"],\"Dipsyland\"]\ne:I[94074,[\"3954\",\"static/chunks/d3ac728e-4f9f0688fd11b799.js\",\"8173\",\"static/chunks/8173-53777d1212e6c2a1.js\",\"3158\",\"static/chunks/3158-60beff0974f44667.js\",\"3530\",\"static/chunks/3530-0259f1a7e7bea590.js\",\"1931\",\"static/chunks/app/page-64e37caa71af8afa.js\"],\"SvgLink\"]\n10:I[76130,[],\"\"]\n9:[\"slug\",\"MongoDB-with-imba-and-nodejs\",\"d\"]\n11:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d1e1d355410e933b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b1044f11627f501d.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"kqO7dsnLKSeDofJ3fqMAE\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/MongoDB-with-imba-and-nodejs/\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"MongoDB-with-imba-and-nodejs\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"MongoDB-with-imba-and-nodejs\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"MongoDB-with-imba-and-nodejs\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L4\",[\"$\",\"div\",null,{\"className\":\"card text-left relative p-20 max-w-4xl min-h-[calc(var(--section-height) - 10rem * 2)] mx-auto my-40 overflow-hidden shadow-xl\",\"children\":[[\"$\",\"h1\",null,{\"children\":\"MongoDB with imba and nodejs\"}],[\"$\",\"time\",null,{\"className\":\"my-4 block text-sm text-zinc-400\",\"dateTime\":\"2018-12-16T00:00:00.000Z\",\"children\":\"December 16, 2018\"}],[\"$\",\"article\",null,{\"className\":\"prose dark:prose-invert max-w-[90ch]\",\"children\":[\"$\",\"$L5\",null,{\"children\":[[\"$\",\"h1\",null,{\"id\":\"mongodb-with-imba-and-nodejs\",\"children\":[[\"$\",\"$L6\",null,{\"href\":\"#mongodb-with-imba-and-nodejs\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"introduction\",\"children\":[[\"$\",\"$L6\",null,{\"href\":\"#introduction\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Introduction\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"I am going to make a new version of corner detection challenge judge, and I am trying to make it with imba in both client side and server side, in the middle we use restful API and socket for communication, while the database we are trying to use MongoDB.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"As for imba environment set up I have another note already, this time it is MongoDB which I am totally new with. MongoDB is a noSQL architecture that do database queries without SQL, looks like firebase, however, it seems there is no way to listen to changes like firebase (\",[\"$\",\"$L6\",null,{\"href\":\"https://stackoverflow.com/questions/42565778/is-there-a-way-to-listen-to-a-mongodb-collection\",\"children\":\"stackoverflow\"}],\").\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"setup\",\"children\":[[\"$\",\"$L6\",null,{\"href\":\"#setup\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Setup\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"$L6\",null,{\"href\":\"https://www.mongodb.com/download-center/community\",\"children\":\"Install MongoDB on computer\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"$L6\",null,{\"href\":\"https://docs.mongodb.com/compass/master/install/\",\"children\":\"Install MongoDB official GUI - Compass\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Follow the instructions so that MongoDB would be installed on your computer, and really at \",[\"$\",\"$L7\",null,{\"children\":\"localhost:27071\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"In your node project which uses MongoDB, run \",[\"$\",\"$L7\",null,{\"children\":\"npm i mongodb\"}]]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"connect\",\"children\":[[\"$\",\"$L6\",null,{\"href\":\"#connect\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Connect\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"js\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L7\",null,{\"data-language\":\"js\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// javascript version\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"let\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" MongoClient\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" require\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'mongodb'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\").\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"MongoClient\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"let\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" uri\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" 'mongodb://localhost:27017'\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\" new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" MongoClient\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"uri\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\", { \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"useNewUrlParser\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D19A66\"},\"children\":\"true\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" })\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"connect\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\"err\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"{\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"  console\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"err\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"||\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'successfully connect to mongo'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"})\"}]}]]}]}]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"imba\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L7\",null,{\"data-language\":\"imba\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"# imba version\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"let\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" MongoClient\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" require\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'mongodb'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\").\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"MongoClient\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"let\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" uri\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" \\\"mongodb://localhost:27017\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" MongoClient\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"uri\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\", { \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"useNewUrlParser:\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D19A66\"},\"children\":\" true\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" })\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"connect\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\" do\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\" |\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"err\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"|\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"\\tconsole\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"err\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"||\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'successfully connect to mongo'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"As for successful connection, the program will print out \\\"successfully connect to mongo\\\", and you can use the client object for further application\"}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"further-sequential-initialization-with-express\",\"children\":[[\"$\",\"$L6\",null,{\"href\":\"#further-sequential-initialization-with-express\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Further: sequential initialization with Express\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"imba\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L7\",null,{\"data-language\":\"imba\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"def\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" initExpress\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" client\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"    # mongoDB client ready for usage\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"    # ...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"def\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" initMongo\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"\\tlet\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" MongoClient\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" require\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'mongodb'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\").\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"MongoClient\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"\\tlet\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" uri\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\" \\\"mongodb://localhost:27017\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"\\tconst\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" MongoClient\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"uri\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\", { \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"useNewUrlParser:\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D19A66\"},\"children\":\" true\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" })\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"\\tawait\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" Promise\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\" do\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\" |\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"resolve\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"reject\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"|\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"\\t\\tclient\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"connect\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\" do\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\" |\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"err\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"|\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"\\t\\t\\tconsole\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"err\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"||\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'no error connecting mongo'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"\\t\\t\\tresolve\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" client\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"\\treturn\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" client\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\\t\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"def\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" main\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"\\tvar\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\" await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" initMongo\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"\\tinitExpress\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" client\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\\t\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"main\"}]}]]}]}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"insert\",\"children\":[[\"$\",\"$L6\",null,{\"href\":\"#insert\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Insert\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"js\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L7\",null,{\"data-language\":\"js\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"db\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'my_db'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\").\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"collection\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'my_collection'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\").\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"insertOne\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"({\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"myField\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'myValue'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"},(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\"err\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\"res\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"{\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"    console\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"err\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"||\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'successfully inserted'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"})\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}]]}]}]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"imba\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L7\",null,{\"data-language\":\"imba\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"db\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'my_db'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\").\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"collection\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'my_collection'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\").\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"insertOne\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"myField:\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'myValue'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"} \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"do\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\" |\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"err\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"res\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"|\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    console\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\" err\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"||\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'successfully inserted'\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"If \",[\"$\",\"$L7\",null,{\"children\":\"my_db\"}],\" database or \",[\"$\",\"$L7\",null,{\"children\":\"my_collection\"}],\" collection has not been created before insertion, mongo will create it first then create.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"query\",\"children\":[[\"$\",\"$L6\",null,{\"href\":\"#query\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Query\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":\"0\",\"data-language\":\"js\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"$L7\",null,{\"data-language\":\"js\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"db\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'my_db'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\").\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"collection\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'my_collection'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\").\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"findOne\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"({},(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\"err\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\"res\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"{\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"    console\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"res\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"})\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"db\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'my_db'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\").\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"collection\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'my_collection'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\").\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"findOne\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"({\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"key\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#98C379\"},\"children\":\"'value'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"},(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\"err\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\"res\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C678DD\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"{\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"    console\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E06C75\"},\"children\":\"res\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"//one result that its key matches value\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"})\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"$L7\",null,{\"children\":\"{}\"}],\" is an atomic operation which describes the items that you are going to query, for example \",[\"$\",\"$L7\",null,{\"children\":\"{age:{$gt:18}}\"}],\" means you are going to query an item with attribute \",[\"$\",\"$L7\",null,{\"children\":\"age\"}],\" greater than 18\"]}]]}]}]]}]],null],null]},[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",\"$9\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"children\":[\"$\",\"$Lb\",null,{\"attribute\":\"class\",\"defaultTheme\":\"dark\",\"children\":[[\"$\",\"header\",null,{\"id\":\"head\",\"children\":[\"$\",\"header\",null,{\"className\":\"fixed top-0 w-full z-10 shadow-lg\",\"children\":[\"$\",\"nav\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"flex justify-between items-center px-16 bg-nav text-nav-foreground\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"$L6\",null,{\"className\":\"nav-item transition-all hover:bg-foreground/10 title px-3\",\"href\":\"/#home\",\"children\":\"Dipsyland\"}],[\"$\",\"$L6\",null,{\"className\":\"nav-item transition-all hover:bg-foreground/10\",\"href\":\"/#about\",\"children\":\"About Me\"}],[\"$\",\"$L6\",null,{\"className\":\"nav-item transition-all hover:bg-foreground/10\",\"href\":\"/#works\",\"children\":\"Works\"}],[\"$\",\"$L6\",null,{\"className\":\"nav-item transition-all hover:bg-foreground/10\",\"href\":\"/#blog\",\"children\":\"Blog\"}],[\"$\",\"$L6\",null,{\"className\":\"nav-item transition-all hover:bg-foreground/10\",\"href\":\"/#about\",\"children\":\"Contact\"}]]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"$Lc\",null,{}]}]]}]}]}]}],[\"$\",\"main\",null,{\"id\":\"content\",\"children\":[[\"$\",\"div\",null,{\"id\":\"home\"}],[\"$\",\"$Ld\",null,{}],[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}],[\"$\",\"footer\",null,{\"className\":\"bg-background/30 text-foreground backgrop-satuate-100 backdrop-blur-sm shadow py-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex justify-between container py-8 items-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex flex-col space-y-2\",\"children\":\"Make with love by Dipsy, Copyright© 2024 All Right Reserved\"}],[\"$\",\"div\",null,{\"className\":\"flex space-x-4\",\"children\":[[\"$\",\"$Le\",\"Facebook\",{\"href\":\"//www.facebook.com/FK.twf/\",\"icon\":\"facebook\",\"color\":\"#1877F2\",\"title\":\"Facebook\"}],[\"$\",\"$Le\",\"GitHub\",{\"href\":\"//github.com/dipsywong98\",\"icon\":\"github\",\"color\":\"#181717\",\"title\":\"GitHub\"}],[\"$\",\"$Le\",\"LinkedIn\",{\"href\":\"//www.linkedin.com/in/dipsywong/\",\"icon\":\"linkedin\",\"color\":\"#0077B5\",\"title\":\"LinkedIn\"}],[\"$\",\"$Le\",\"Email\",{\"href\":\"mailto:ycwongal@connect.ust.hk\",\"icon\":\"gmail\",\"color\":\"#D14836\",\"title\":\"Email\"}],[\"$\",\"$Le\",\"YouTube\",{\"href\":\"//www.youtube.com/user/FacebookArmyOffical\",\"icon\":\"youtube\",\"color\":\"#FF0000\",\"title\":\"YouTube\"}]]}]]}]}]]}]]}]}]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[false,\"$Lf\"],\"globalErrorComponent\":\"$10\",\"missingSlots\":\"$W11\"}]]\n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"MongoDB with imba and nodejs | Dipsyland\"}],[\"$\",\"link\",\"3\",{\"rel\":\"canonical\",\"href\":\"https://dipsy.me/posts/MongoDB-with-imba-and-nodejs/\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"MongoDB with imba and nodejs\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:url\",\"content\":\"https://dipsy.me/posts/MongoDB-with-imba-and-nodejs/\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"7\",{\"property\":\"article:published_time\",\"content\":\"2018-12-16T00:00:00.000Z\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:title\",\"content\":\"MongoDB with imba and nodejs\"}],[\"$\",\"link\",\"10\",{\"rel\":\"icon\",\"href\":\"/icon.png?053fff2283a75f27\",\"type\":\"image/png\",\"sizes\":\"96x96\"}]]\n4:null\n"])</script></body></html>